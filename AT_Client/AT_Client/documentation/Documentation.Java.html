<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<title>Trading API</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:initial}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px 0}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:.4em .75em 0 .75em;line-height:1;vertical-align:top}
.colist>table tr>td:first-of-type img{max-width:initial}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Trading API</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#get-started">Get started</a>
<ul class="sectlevel2">
<li><a href="#overview">Overview</a></li>
<li><a href="#requirements">Requirements</a></li>
<li><a href="#license">License</a></li>
<li><a href="#communication">Communication</a></li>
<li><a href="#security">Security</a></li>
<li><a href="#configuration">Configuration</a></li>
<li><a href="#session-tan">Session TAN</a></li>
</ul>
</li>
<li><a href="#usage-of-the-trading-api">Usage of the Trading API</a>
<ul class="sectlevel2">
<li><a href="#source-code">Source code</a></li>
<li><a href="#initialization">Initialization</a></li>
<li><a href="#services-and-functions-definition">Services and functions definition</a></li>
<li><a href="#create-services">Create services</a></li>
<li><a href="#functional-programming">Functional programming</a></li>
<li><a href="#pull-and-push-functions">Pull and push functions</a>
<ul class="sectlevel3">
<li><a href="#pull-requests">Pull requests</a></li>
<li><a href="#push-requests">Push requests</a></li>
<li><a href="#push-subscriptions">Push subscriptions</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#services-and-functions">Services and functions</a>
<ul class="sectlevel2">
<li><a href="#access-service">Access service</a>
<ul class="sectlevel3">
<li><a href="#client-validation">Client validation</a></li>
<li><a href="#client-invalidation">Client invalidation</a></li>
</ul>
</li>
<li><a href="#account-service">Account service</a>
<ul class="sectlevel3">
<li><a href="#get-list-of-trading-accounts">Get list of trading accounts</a></li>
<li><a href="#stream-account-information-changes">Stream account information changes</a></li>
<li><a href="#stream-account-transactions-changes">Stream account transactions changes</a></li>
</ul>
</li>
<li><a href="#stock-exchange-service">Stock exchange service</a>
<ul class="sectlevel3">
<li><a href="#get-information-about-all-stock-exchanges">Get information about all stock exchanges</a></li>
<li><a href="#get-information-about-specific-stock-exchange">Get information about specific stock exchange</a></li>
</ul>
</li>
<li><a href="#depot-service">Depot service</a>
<ul class="sectlevel3">
<li><a href="#stream-depot-changes">Stream depot changes</a></li>
<li><a href="#update-depot">Update depot</a></li>
</ul>
</li>
<li><a href="#security-service">Security service</a>
<ul class="sectlevel3">
<li><a href="#securities-access">Securities access</a></li>
<li><a href="#get-security-information">Get security information</a></li>
<li><a href="#stream-market-data-information">Stream market data information</a></li>
<li><a href="#stream-orderbook-data">Stream orderbook data</a></li>
<li><a href="#stream-currency-rate">Stream currency rate</a></li>
<li><a href="#get-security-historic-data">Get security historic data</a></li>
</ul>
</li>
<li><a href="#order-service">Order service</a>
<ul class="sectlevel3">
<li><a href="#order-types-and-parameters">Order types and parameters</a></li>
<li><a href="#stream-orders">Stream orders</a></li>
<li><a href="#update-orders">Update orders</a></li>
<li><a href="#get-securities-quotes">Get securities quotes</a></li>
<li><a href="#accept-quote">Accept quote</a></li>
<li><a href="#add-order">Add order</a></li>
<li><a href="#change-order">Change order</a></li>
<li><a href="#cancel-order">Cancel order</a></li>
<li><a href="#activate-order">Activate order</a></li>
<li><a href="#deactivate-order">Deactivate order</a></li>
<li><a href="#order-costs">Order costs</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Errors">Errors</a></li>
<li><a href="#objects-and-types-description">Objects and types description</a>
<ul class="sectlevel2">
<li><a href="#AcceptQuoteRequest">AcceptQuoteRequest</a></li>
<li><a href="#AccessTokenRequest">AccessTokenRequest</a></li>
<li><a href="#ActivateOrderRequest">ActivateOrderRequest</a></li>
<li><a href="#OrderCosts-AggregatedCosts">AggregatedCosts</a></li>
<li><a href="#AddOrderRequest">AddOrderRequest</a></li>
<li><a href="#CancelOrderRequest">CancelOrderRequest</a></li>
<li><a href="#CashQuotation">CashQuotation</a></li>
<li><a href="#OrderCosts-CategoryCost">CategoryCost</a></li>
<li><a href="#ChangeOrderRequest">ChangeOrderRequest</a></li>
<li><a href="#CurrencyRateReply">CurrencyRateReply</a></li>
<li><a href="#CurrencyRateRequest">CurrencyRateRequest</a></li>
<li><a href="#Date">Date</a></li>
<li><a href="#DeactivateOrderRequest">DeactivateOrderRequest</a></li>
<li><a href="#DepotEntries">DepotEntries</a></li>
<li><a href="#DepotEntry">DepotEntry</a></li>
<li><a href="#DepotPosition">DepotPosition</a></li>
<li><a href="#OrderCosts-DetailCost">DetailCost</a></li>
<li><a href="#Empty">Empty</a></li>
<li><a href="#Error">Error</a></li>
<li><a href="#SecurityStockExchangeInfo-LimitToken">LimitToken</a></li>
<li><a href="#LoginReply">LoginReply</a></li>
<li><a href="#LoginRequest">LoginRequest</a></li>
<li><a href="#LogoutReply">LogoutReply</a></li>
<li><a href="#LogoutRequest">LogoutRequest</a></li>
<li><a href="#Order">Order</a></li>
<li><a href="#SecurityOrderBookReply-OrderBookEntry">OrderBookEntry</a></li>
<li><a href="#OrderCosts">OrderCosts</a></li>
<li><a href="#OrderModel">OrderModel</a></li>
<li><a href="#OrderReply">OrderReply</a></li>
<li><a href="#Orders">Orders</a></li>
<li><a href="#OrderStatus">OrderStatus</a></li>
<li><a href="#OrderSupplement">OrderSupplement</a></li>
<li><a href="#OrderType">OrderType</a></li>
<li><a href="#PriceEntry">PriceEntry</a></li>
<li><a href="#QuoteEntry">QuoteEntry</a></li>
<li><a href="#QuoteReply">QuoteReply</a></li>
<li><a href="#QuoteRequest">QuoteRequest</a></li>
<li><a href="#SecurityMarketDataReply-SecurityChangedField">SecurityChangedField</a></li>
<li><a href="#SecurityClass">SecurityClass</a></li>
<li><a href="#SecurityCode">SecurityCode</a></li>
<li><a href="#SecurityCodeType">SecurityCodeType</a></li>
<li><a href="#SecurityInfoReply">SecurityInfoReply</a></li>
<li><a href="#SecurityInfoRequest">SecurityInfoRequest</a></li>
<li><a href="#SecurityMarketDataReply">SecurityMarketDataReply</a></li>
<li><a href="#SecurityMarketDataRequest">SecurityMarketDataRequest</a></li>
<li><a href="#SecurityOrderBookReply">SecurityOrderBookReply</a></li>
<li><a href="#SecurityOrderBookRequest">SecurityOrderBookRequest</a></li>
<li><a href="#SecurityPriceHistoryReply">SecurityPriceHistoryReply</a></li>
<li><a href="#SecurityPriceHistoryRequest">SecurityPriceHistoryRequest</a></li>
<li><a href="#SecurityStockExchangeInfo">SecurityStockExchangeInfo</a></li>
<li><a href="#SecurityWithStockExchange">SecurityWithStockExchange</a></li>
<li><a href="#SecurityStockExchangeInfo-ShortMode">ShortMode</a></li>
<li><a href="#StockExchange">StockExchange</a></li>
<li><a href="#StockExchangeDescription">StockExchangeDescription</a></li>
<li><a href="#StockExchangeDescriptions">StockExchangeDescriptions</a></li>
<li><a href="#StockExchangeInfo">StockExchangeInfo</a></li>
<li><a href="#StockExchangeRequest">StockExchangeRequest</a></li>
<li><a href="#TimeResolution">TimeResolution</a></li>
<li><a href="#Timestamp">Timestamp</a></li>
<li><a href="#TradingAccount">TradingAccount</a></li>
<li><a href="#TradingAccountInformation">TradingAccountInformation</a></li>
<li><a href="#TradingAccountRequest">TradingAccountRequest</a></li>
<li><a href="#TradingAccounts">TradingAccounts</a></li>
<li><a href="#TradingAccountTransactions">TradingAccountTransactions</a></li>
<li><a href="#TradingPhase">TradingPhase</a></li>
<li><a href="#TradingPossibility">TradingPossibility</a></li>
<li><a href="#TradingState">TradingState</a></li>
<li><a href="#TrailingNotation">TrailingNotation</a></li>
<li><a href="#TradingAccountTransactions-Transaction">Transaction</a></li>
<li><a href="#UnitNote">UnitNote</a></li>
<li><a href="#Validation">Validation</a></li>
</ul>
</li>
<li><a href="#questions-and-answers">Questions and Answers</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Version: 0.1.3-SNAPSHOT</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="get-started"><a class="anchor" href="#get-started"></a>Get started</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="overview"><a class="anchor" href="#overview"></a>Overview</h3>
<div class="paragraph">
<p>Trading API (TAPI) is a part of the standard <a href="https://www.consorsbank.de">Consorsbank</a> trading application ActiveTrader / ActiveTrader Pro. It allowes to write user managed application for the specific trading activities. TAPI support pull / push requests and based on the <a href="https://grpc.io">Google Remote Procedure Call (GRPC)</a> technology.</p>
</div>
<div class="paragraph">
<p>With help of the TAPI you have an access to the accounts, orders, depots and market data information.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Important</div>
<div class="paragraph">
<p>This documentation is the description of the early version of Trading API. It&#8217;s not final and it&#8217;s subject to change. With the lookback to the new BaFin regulation it&#8217;s especially important to understand that the ordering part of the TAPI can be partially changed to fullfil new law directives.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Additional information and discussions can be found <a href="https://wissen.consorsbank.de/t5/Trading-API-Family-Friends/gp-p/BNPP_GHM">there</a>. Please contact to the support team to get access to this part of the community.</p>
</div>
</div>
<div class="sect2">
<h3 id="requirements"><a class="anchor" href="#requirements"></a>Requirements</h3>
<div class="ulist">
<ul>
<li>
<p>Active Trader / Active Trader Pro with Java 8 64 bits, minimum 8Gb RAM</p>
</li>
<li>
<p>Client Java 8 or higher 64 bits</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="license"><a class="anchor" href="#license"></a>License</h3>
<div class="paragraph">
<p>Trading-API is licensed under <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 license</a>.</p>
</div>
<div class="paragraph">
<p>The license and notice texts can be found in the delivered <strong>LICENSE</strong> and <strong>NOTICE.TXT</strong> files.</p>
</div>
</div>
<div class="sect2">
<h3 id="communication"><a class="anchor" href="#communication"></a>Communication</h3>
<div class="paragraph">
<p>GRPC technology uses one connection to transfer all necessary data beetwen client and ActiveTrader. As developer you don&#8217;t need to care about communication. All low level communication, security and converting functions takes TAPI engine. You can concentrate on the high level functions and bussines logic of the application.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/client-tapi.png" alt="client tapi" width="870" height="266">
</div>
</div>
</div>
<div class="sect2">
<h3 id="security"><a class="anchor" href="#security"></a>Security</h3>
<div class="paragraph">
<p>TAPI uses HTTP/2 protocol with RSA protection. RSA self signed certificate can be generated directly in the ActiveTrader application. Typical use case is to use user application from same PC, but it&#8217;s also possible to connect from the remote machine.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Important</div>
<div class="paragraph">
<p>To accept self signed certificate from the user application is necessary to use trusted part of the RSA keys (Trust Certificate) by the connection initialization in the client application. This certificate can be exported from the ActiveTrading application.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/generate-key.png" alt="generate key" width="650" height="294">
</div>
</div>
<div class="paragraph">
<p>To provide users access control can be used <strong>secret</strong> string. That&#8217;s an equivalent of password. Secret is defined in the Active Trader and used only for validation. User application sends secret to the ActiveTrader. If the validation in the ActiveTrader is passed then ActiveTrader generates a session <strong>access token</strong> and returns it to the user application. With this token is possible to execute other requests. After end of processing the token should be invalidated.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/token-usage.png" alt="token usage" width="760" height="308">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Important</div>
<div class="paragraph">
<p>We don&#8217;t keep <strong>secret</strong> data in the configuration. Only double MD5 hash of the secret + solt is stored in the configuration. As result we can&#8217;t restore the secret. For more information see <a href="https://en.wikipedia.org/wiki/Rainbow_table#Defense_against_rainbow_tables">Defense against rainbow tables</a></p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="configuration"><a class="anchor" href="#configuration"></a>Configuration</h3>
<div class="paragraph">
<p>To activate TAPI is need to complete next steps:</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/Config.png" alt="Config">
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Select Trading-API settings in the configuration</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Activate TAPI checkbox</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Optional: if key exists, press [GENERATE NEW KEY] button</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In the opened dialog</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/GenerateKey.png" alt="GenerateKey">
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Enter or correct key settings</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Press [GENERATE NEW KEY] button and wait unil new key is generated</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Press [OK] button to accept new settings</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>After confirmation of the new settings TAPI will be activated.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Warning</div>
<div class="paragraph">
<p>In some cases if any initialization errors are appear, the TAPI activation indication in the status bar of the application will be red. To check activation problems move mouse cursor over this indication and check tooltip for the error.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Before to start using client application, it&#8217;s need to export trusted certificate from ActiveTrader.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="./images/ExportCertificate.png" alt="ExportCertificate">
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Set secret for an access control. Longer string is better.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Press [EXPORT TRUST CERTIFICATE] and store file (for example with name: <strong>roots.pem</strong>) to the location where client application can use it.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="session-tan"><a class="anchor" href="#session-tan"></a>Session TAN</h3>
<div class="paragraph">
<p>Some operations of the TAPI can be used without TAN. All activities with the necessity of the autorisation are need to use of the session TAN.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Important</div>
<div class="paragraph">
<p>Do not forget to activate session TAN. It&#8217;s not possible to use individual TAN&#8217;s with TAPI</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="usage-of-the-trading-api"><a class="anchor" href="#usage-of-the-trading-api"></a>Usage of the Trading API</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="source-code"><a class="anchor" href="#source-code"></a>Source code</h3>
<div class="paragraph">
<p>An example aplication is delivered with precompiled GRPC libraries. If you want to generate source code by youself you can use protobuf files from <strong>protobuf</strong> directory. Please refer to the <a href="https://grpc.io/docs/reference/java/generated-code.html">Java Generated Code Reference</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="initialization"><a class="anchor" href="#initialization"></a>Initialization</h3>
<div class="paragraph">
<p>To initialize client application and connect to the ActiveTrader with help of TAPI you have to process next steps:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/initialize-grpc-java.png" alt="initialize grpc java" width="740" height="126">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Important</div>
<div class="paragraph">
<p>All examples are avialable as a sorce code and can be found in the specific folders.</p>
</div>
<div class="paragraph">
<p>Input point is the file <strong>TestClient.java</strong></p>
</div>
<div class="paragraph">
<p>To start examples you have to put into start parameters full path to the trust certificate and secret. For example: "C:\PathToTrustCert\roots.pem 1234567"</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Initialize the root GRPC engine with trusted certificate, exported from configuration dialog of the ActiveTrader.</p>
</div>
<div class="listingblock">
<div class="title">Example Java: Initaialize GRPC</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
</pre></td>
  <td class="code"><pre><span class="directive">private</span> <span class="predefined-type">String</span> accessToken = <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>;

<span class="comment">/**
 * Test client.
 */</span>
<span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) <span class="directive">throws</span> <span class="exception">Exception</span> {
  <span class="keyword">if</span> (args.length&lt;<span class="integer">2</span>) {
    <span class="predefined-type">System</span>.err.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">Please generate key in AT and </span><span class="delimiter">&quot;</span></span>
        + <span class="string"><span class="delimiter">&quot;</span><span class="content">put location of the trust certificate and secret as arguments</span><span class="delimiter">&quot;</span></span>);
    <span class="predefined-type">System</span>.exit(-<span class="integer">1</span>);
  }
  <span class="predefined-type">File</span> caFile = <span class="keyword">new</span> <span class="predefined-type">File</span>(args[<span class="integer">0</span>]); <i class="conum" data-value="1"></i><b>(1)</b>

  <span class="keyword">if</span> (!caFile.isFile()) { <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="predefined-type">System</span>.err.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">File: </span><span class="delimiter">&quot;</span></span>+caFile+<span class="string"><span class="delimiter">&quot;</span><span class="content"> does not exist</span><span class="delimiter">&quot;</span></span>);
    <span class="predefined-type">System</span>.exit(-<span class="integer">1</span>);
  }

  <span class="predefined-type">String</span> server = <span class="string"><span class="delimiter">&quot;</span><span class="content">localhost</span><span class="delimiter">&quot;</span></span>; <i class="conum" data-value="3"></i><b>(3)</b>
  <span class="type">int</span> port = <span class="integer">40443</span>;

  <span class="predefined-type">System</span>.err.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">Connecting... </span><span class="delimiter">&quot;</span></span>+server+<span class="string"><span class="delimiter">&quot;</span><span class="content">:</span><span class="delimiter">&quot;</span></span>+port);
  <span class="keyword">try</span> (TestClient client = <span class="keyword">new</span> TestClient(server, port, caFile, args[<span class="integer">1</span>])) { <i class="conum" data-value="4"></i><b>(4)</b>

    <span class="comment">// ...</span>

  } <span class="keyword">catch</span> (<span class="exception">Exception</span> e) {
    e.printStackTrace();
  }
}

<span class="directive">public</span> TestClient(<span class="predefined-type">String</span> host, <span class="type">int</span> port, <span class="predefined-type">File</span> caFile, <span class="predefined-type">String</span> secret) <span class="directive">throws</span> <span class="exception">SSLException</span> {
  <span class="local-variable">this</span>(NettyChannelBuilder.forAddress(host, port)
      .negotiationType(NegotiationType.TLS)
      .sslContext(GrpcSslContexts.forClient().trustManager(caFile).build())
      .build());
  accessToken = login(secret);
  <span class="keyword">if</span> (accessToken.isEmpty()) {
    <span class="comment">// Error</span>
  }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Get trusted certificate location as a parameter of the command line</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Check if a file of the cetrificates exists</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Define connection settings</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Initialize GRPC connection</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="services-and-functions-definition"><a class="anchor" href="#services-and-functions-definition"></a>Services and functions definition</h3>
<div class="paragraph">
<p>After an initialization is GRPC ready and it can be used for the building service stubs to operate with TAPI services. Stubs are sets of service functions with help of then is possible to access data and execute user actions. They are very similar to the normal programming functions with small differences.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Each remote function can have one (and only one) input parameter.</p>
</li>
<li>
<p>Each remote function can have one (and only one) result parameter.</p>
</li>
<li>
<p>The function can send data asynchronically</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Functions can be simple (one request &#8594; one reply), server sends events (one request from client &#8594; many replies from server), client sends events (many requests from client &#8594; one reply from server) or server and clients sends events (many requests from client &#8594; many replies from server). TAPI uses only first and second types of functions. First type of the function used for the simple user activity (pull) and second type for subcriptions or streaming (push).</p>
</div>
<div class="paragraph">
<p>Services and functions are defined in the special files as <a href="https://developers.google.com/protocol-buffers/docs/proto3">protobuf protocol v.3</a></p>
</div>
<div class="listingblock">
<div class="title">Example Protobuf: RPC definition</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
</pre></td>
  <td class="code"><pre>service ServiceName { <i class="conum" data-value="1"></i><b>(1)</b>
  rpc SimpleFunction(ClientParameterType1) returns (ServerParameterType1); <i class="conum" data-value="2"></i><b>(2)</b>
  rpc PushFunction(ClientParameterType2) returns (stream ServerParameterType2); <i class="conum" data-value="3"></i><b>(3)</b>
 }</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><strong>ServiceName</strong> is service stub name. This name will used for the access to the service functions</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><strong>SimpleFunction</strong> is simple request / reply function.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><strong>PushFunction</strong> is push function with one request and streams data from the server. Please check <strong>stream</strong> keyword before ServerParameterType2</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Important</div>
<div class="paragraph">
<p>You don&#8217;t need to use protobuf files directly, but it&#8217;s good idea to know a syntax of the the protocol. These files are need if you want to use TAPI with other progaming languages.  <a href="https://grpc.io">grpc.io</a> conatains all necessary infomation about code generation and usage for all supported programming languages.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="create-services"><a class="anchor" href="#create-services"></a>Create services</h3>
<div class="paragraph">
<p>There are two types of the service functions: blocking and unblocking service functions. Blocking service functions are used for the synchronical answer from the function and similar to the typical program functions. By call of the blocking functions, program waits until a result of the function is arrived. It can produce timeouts by the execution. Unblocking function are used for the background processing. In this case a program don&#8217;t wait until result is arrived and listen for the result asynchronically. This type of the stubs is used for the push functions. For more information please refer to the <a href="https://grpc.io">grpc.io</a> web site.</p>
</div>
<div class="paragraph">
<p>For blocking calls used blocking service stubs, for asynchronical calls unblocking service stubs.</p>
</div>
<div class="listingblock">
<div class="title">Example Java: Initaialize Stubs</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td>
  <td class="code"><pre><span class="directive">private</span> <span class="directive">final</span> ManagedChannel channel;
<span class="directive">private</span> <span class="directive">final</span> AccessServiceGrpc.AccessServiceBlockingStub accessServiceBlockingStub;
<span class="directive">private</span> <span class="directive">final</span> SecurityServiceGrpc.SecurityServiceBlockingStub securityServiceBlockingStub;
<span class="directive">private</span> <span class="directive">final</span> SecurityServiceGrpc.SecurityServiceStub securityServiceStub;
<span class="directive">private</span> <span class="directive">final</span> StockExchangeServiceGrpc.StockExchangeServiceBlockingStub stockExchangeServiceBlockingStub;
<span class="directive">private</span> <span class="directive">final</span> AccountServiceGrpc.AccountServiceBlockingStub accountServiceBlockingStub;
<span class="directive">private</span> <span class="directive">final</span> AccountServiceGrpc.AccountServiceStub accountServiceStub;
<span class="directive">private</span> <span class="directive">final</span> OrderServiceGrpc.OrderServiceStub orderServiceStub;
<span class="directive">private</span> <span class="directive">final</span> OrderServiceGrpc.OrderServiceBlockingStub orderServiceBlockingStub;
<span class="directive">private</span> <span class="directive">final</span> DepotServiceGrpc.DepotServiceStub depotServiceStub;
<span class="comment">/**
 * Construct client for accessing ActiveTrader using the existing channel.
 */</span>
TestClient(ManagedChannel channel) { <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="local-variable">this</span>.channel = channel;
  securityServiceBlockingStub = SecurityServiceGrpc.newBlockingStub(channel); <i class="conum" data-value="2"></i><b>(2)</b>
  securityServiceStub = SecurityServiceGrpc.newStub(channel); <i class="conum" data-value="3"></i><b>(3)</b>
  stockExchangeServiceBlockingStub = StockExchangeServiceGrpc.newBlockingStub(channel);
  accountServiceBlockingStub = AccountServiceGrpc.newBlockingStub(channel);
  accountServiceStub = AccountServiceGrpc.newStub(channel);
  orderServiceStub = OrderServiceGrpc.newStub(channel);
  orderServiceBlockingStub = OrderServiceGrpc.newBlockingStub(channel);
  depotServiceStub = DepotServiceGrpc.newStub(channel);
  accessServiceBlockingStub = AccessServiceGrpc.newBlockingStub(channel);
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Use managed channel from previous step</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Initialize blocking stub</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Initialize non blocking stub</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Warning</div>
<div class="paragraph">
<p>Be care that you use non blocking stub to subscribe for push events. It&#8217;s technically possible, but blocks program execution until server will stop send events.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="functional-programming"><a class="anchor" href="#functional-programming"></a>Functional programming</h3>
<div class="paragraph">
<p>Objects in the GRPC world are <strong>immutable</strong> (or not changable). To create these objects are used object builders. They fill objects and build final immutable object for the execution. It looks like a chain of the functions calls.</p>
</div>
<div class="listingblock">
<div class="title">Example Java: Create object</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
</pre></td>
  <td class="code"><pre>AddOrderRequest request = AddOrderRequest.newBuilder() <i class="conum" data-value="1"></i><b>(1)</b>
    .setAccessToken(accessToken) <i class="conum" data-value="2"></i><b>(2)</b>
    .setAccountNumber(<span class="string"><span class="delimiter">&quot;</span><span class="content">123467890</span><span class="delimiter">&quot;</span></span>)
    .setSecurityWithStockexchange(securityWithStockExchange)
    .setValidation(Validation.VALIDATE_ONLY)
    .setAmount(<span class="integer">1</span>)
    .setOrderModel(OrderModel.LIMIT)
    .setLimit(<span class="integer">1</span>)
    .setOrderType(OrderType.BUY)
    .setCashQuotation(CashQuotation.KASSA)
    .setValidityDate(<span class="predefined-type">Date</span>.newBuilder().setDay(<span class="integer">10</span>).setMonth(<span class="integer">10</span>).setYear(<span class="integer">2018</span>).build())
    .build(); <i class="conum" data-value="3"></i><b>(3)</b></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Create builder</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Set objects parameters</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Build final object</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/function-chain.png" alt="function chain" width="840" height="126">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Important</div>
<div class="paragraph">
<p>It&#8217;s necessary to fill only parameters that need for the function call. All other parameters should stay untouched or should have default values.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="pull-and-push-functions"><a class="anchor" href="#pull-and-push-functions"></a>Pull and push functions</h3>
<div class="paragraph">
<p>There is two possibilites to call remote function.</p>
</div>
<div class="sect3">
<h4 id="pull-requests"><a class="anchor" href="#pull-requests"></a>Pull requests</h4>
<div class="paragraph">
<p>The first one is using blocking service stub. In this case an operation blocks program execution until results are arrived.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/pull-call.png" alt="pull call" width="530" height="224">
</div>
</div>
<div class="listingblock">
<div class="title">Example Java: Blocking execution</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
</pre></td>
  <td class="code"><pre><span class="directive">private</span> TradingAccounts getTradingAccounts() {
  AccessTokenRequest request = AccessTokenRequest.newBuilder()
      .setAccessToken(accessToken)
      .build();
  <span class="keyword">return</span> accountServiceBlockingStub.getTradingAccounts(request);
}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="push-requests"><a class="anchor" href="#push-requests"></a>Push requests</h4>
<div class="paragraph">
<p>Other possibility is not to wait for the results, but listen for then asynchronically.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/push-call.png" alt="push call" width="760" height="224">
</div>
</div>
<div class="listingblock">
<div class="title">Example Java: Noblocking execution</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td>
  <td class="code"><pre><span class="directive">private</span> <span class="type">void</span> getTradingAccountsAsync() {
  AccessTokenRequest request = AccessTokenRequest.newBuilder()
      .setAccessToken(accessToken)
      .build();
  accountServiceStub.getTradingAccounts(request, <span class="keyword">new</span> StreamObserver&lt;TradingAccounts&gt;() { <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> onNext(TradingAccounts tradingAccounts) {
      <span class="predefined-type">System</span>.out.println(tradingAccounts); <i class="conum" data-value="2"></i><b>(2)</b>
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> onError(<span class="predefined-type">Throwable</span> t) {
      t.printStackTrace(); <i class="conum" data-value="3"></i><b>(3)</b>
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> onCompleted() {
      <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">No results anymore</span><span class="delimiter">&quot;</span></span>); <i class="conum" data-value="4"></i><b>(4)</b>
    }
  });
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Subscribe for the results</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Process results</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Called by technical error</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Called after processing end. No new result are comming anymore.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The results are comming only once. The operation will be automatically completed.</p>
</div>
</div>
<div class="sect3">
<h4 id="push-subscriptions"><a class="anchor" href="#push-subscriptions"></a>Push subscriptions</h4>
<div class="paragraph">
<p>In some cases server can sent more then one answer or <strong>streams</strong> the data. This case is simular t
requests, but has some differences.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It can come more then one results answer back</p>
</li>
<li>
<p>Server can send "break" notification to the client if no data is exist anymore</p>
</li>
<li>
<p>Client can send "break" notification to the server if no data is need anymore. See <strong>ServerSubs</strong></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/push-subscription.png" alt="push subscription" width="750" height="224">
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="services-and-functions"><a class="anchor" href="#services-and-functions"></a>Services and functions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="access-service"><a class="anchor" href="#access-service"></a>Access service</h3>
<div class="paragraph">
<p>Access service provides functionality to validation / invalidation of the client.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. AccessService</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#LoginReply">LoginReply</a> = Login(<a href="#LoginRequest">LoginRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validates client by the TAPI and gets access data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#LogoutReply">LogoutReply</a> = Logout(<a href="#LogoutRequest">LogoutRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Invalidates client by the TAPI and gets logout result</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="client-validation"><a class="anchor" href="#client-validation"></a>Client validation</h4>
<div class="paragraph">
<p>Client validation should be a first request after connection initalization. To validate client you have to set a <strong>secret</strong> that was set in the ActiveTrader configuration and process a login function. As result of this function returned session access token. This token is necessary to set to each request that will be send by TAPI.</p>
</div>
<div class="listingblock">
<div class="title">Example Java: Login</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
</pre></td>
  <td class="code"><pre><span class="directive">private</span> <span class="predefined-type">String</span> login(<span class="predefined-type">String</span> secret) {
  LoginRequest loginRequest = LoginRequest.newBuilder()
      .setSecret(secret)
      .build();
  LoginReply loginReply = accessServiceBlockingStub.login(loginRequest);
  <span class="keyword">if</span> (loginReply.getError()!=<span class="exception">Error</span>.getDefaultInstance()) {
    <span class="predefined-type">System</span>.err.println(loginReply.getError());
    <span class="keyword">return</span> <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>;
  } <span class="keyword">else</span> {
    <span class="keyword">return</span> loginReply.getAccessToken();
  }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="client-invalidation"><a class="anchor" href="#client-invalidation"></a>Client invalidation</h4>
<div class="paragraph">
<p>After finishing of usage of the TAPI is necessary to invalidate session. That can be done with help of the logout function.
.Example Java: Logout</p>
</div>
<div class="listingblock">
<div class="content">
<pre>private void logout() {
  if (accessToken!=null &amp;&amp; !accessToken.isEmpty()) {
    LogoutRequest request = LogoutRequest.newBuilder()
        .setAccessToken(accessToken)
        .build();
    accessServiceBlockingStub.logout(request);
  }
}</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="account-service"><a class="anchor" href="#account-service"></a>Account service</h3>
<div class="paragraph">
<p>Account service provides access to the trading accounts and gives possibility to access to the accounts data and transactions.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. AccountService</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#TradingAccounts">TradingAccounts</a> = GetTradingAccounts(<a href="#AccessTokenRequest">AccessTokenRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gets trading accounts</p>
<p class="tableblock"><strong>@return</strong> TradingAccounts
      List of trading accounts</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#TradingAccountInformation">TradingAccountInformation</a> &#8656; StreamTradingAccount(<a href="#TradingAccountRequest">TradingAccountRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subscribes one trading account for updates</p>
<p class="tableblock"><strong>@param</strong> TradingAccount
     Trading account for push</p>
<p class="tableblock"><strong>@stream</strong> TradingAccountInformation
     Specific information for subscribed account (balance, kredit line, etc.)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#TradingAccountTransactions">TradingAccountTransactions</a> &#8656; StreamTradingAccountTransactions(<a href="#TradingAccountRequest">TradingAccountRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subscribes one trading account for the transactions updates</p>
<p class="tableblock"><strong>@param</strong> TradingAccount
     Trading account for push</p>
<p class="tableblock"><strong>@stream</strong> TradingAccountInformation
     Transactions list for subscribed account</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>To subscribe for the account and transactions changes you have to get trading accounts and subscribe each account with help of steam functions for data changes independently.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/account-process.png" alt="account process" width="710" height="364">
</div>
</div>
<div class="sect3">
<h4 id="get-list-of-trading-accounts"><a class="anchor" href="#get-list-of-trading-accounts"></a>Get list of trading accounts</h4>
<div class="paragraph">
<p>Many activites need information about an account data. Most important information is a trading account number. To get list of all avialable trading accounts you have to use <strong>Get Trading Accounts</strong> function.</p>
</div>
<div class="listingblock">
<div class="title">Example Java: getTradingAccounts()</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td>
  <td class="code"><pre><span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> Empty EMPTY = Empty.getDefaultInstance();

<span class="directive">private</span> <span class="directive">final</span> AccountServiceGrpc.AccountServiceBlockingStub accountServiceBlockingStub;

<span class="directive">private</span> TradingAccounts getTradingAccounts() {
  AccessTokenRequest request = AccessTokenRequest.newBuilder()
      .setAccessToken(accessToken)
      .build();
  <span class="keyword">return</span> accountServiceBlockingStub.getTradingAccounts(request);
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Important</div>
<div class="paragraph">
<p>Not all accounts in the <mark>pro</mark> version of the ActiveTrader can be used for the trading functionality. Please refer to the <a href="#TradingAccount">TradingAccount</a> and check for the access avialibility of the selected account (flag: <strong>tradable</strong>).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Useful</div>
<div class="paragraph">
<p>Typical use case is to get this information once and keep it during one connection session.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="stream-account-information-changes"><a class="anchor" href="#stream-account-information-changes"></a>Stream account information changes</h4>
<div class="paragraph">
<p>To get pushed trading account information is need to subscribe an account for the trading account stream.</p>
</div>
<div class="listingblock">
<div class="title">Example Java: streamTradingAccountInformation()</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td>
  <td class="code"><pre><span class="directive">private</span> <span class="type">void</span> streamTradingAccountInformation() {
  TradingAccounts tradingAccounts = getTradingAccounts(); <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="keyword">for</span> (<span class="type">int</span> accountIndex = <span class="integer">0</span>; accountIndex&lt;tradingAccounts.getAccountsCount(); accountIndex++) {
    TradingAccount account = tradingAccounts.getAccounts(accountIndex); <i class="conum" data-value="2"></i><b>(2)</b>
    TradingAccountRequest request = TradingAccountRequest.newBuilder()
        .setAccessToken(accessToken)
        .setTradingAccount(account)
        .build();

    TradingAccountInformationObserver observer = <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="keyword">new</span> TradingAccountInformationObserver(request, accountServiceStub);
    accountObservers.put(account, observer);
  }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Get trading accounts</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Iterate over each account</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Subscribe account</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>TradingAccountInformationObserver is the help class to encapsulate typical processing with the stream data.</p>
</div>
<div class="listingblock">
<div class="title">Example Java: TradingAccountInformationObserver</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre></td>
  <td class="code"><pre><span class="keyword">import</span> <span class="include">com.consorsbank.module.tapi.grpc.AccountServiceGrpc.AccountServiceStub</span>;
<span class="keyword">import</span> <span class="include">com.consorsbank.module.tapi.grpc.account.TradingAccount</span>;
<span class="keyword">import</span> <span class="include">com.consorsbank.module.tapi.grpc.account.TradingAccountInformation</span>;
<span class="keyword">import</span> <span class="include">com.consorsbank.module.tapi.grpc.account.TradingAccountRequest</span>;
<span class="keyword">import</span> <span class="include">com.consorsbank.module.tapi.grpc.common.Error</span>;


<span class="directive">public</span> <span class="type">class</span> <span class="class">TradingAccountInformationObserver</span> <span class="directive">extends</span> ServerSubscription&lt;TradingAccount, TradingAccountInformation&gt;{
  <span class="directive">private</span> <span class="directive">final</span> AccountServiceStub orderServiceStub;

  <span class="directive">public</span> TradingAccountInformationObserver(
      TradingAccountRequest request, AccountServiceStub orderServiceStub) {

    <span class="local-variable">this</span>.orderServiceStub = orderServiceStub;
    <span class="local-variable">this</span>.orderServiceStub.streamTradingAccount(request, <span class="local-variable">this</span>); <i class="conum" data-value="1"></i><b>(1)</b>
  }

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> onCompleted() { <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">Call completed!</span><span class="delimiter">&quot;</span></span>);
  }

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> onNext(TradingAccountInformation reply) { <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="exception">Error</span> error = reply.getError(); <i class="conum" data-value="4"></i><b>(4)</b>
    <span class="keyword">if</span> (error==<span class="exception">Error</span>.getDefaultInstance()) {
      <span class="predefined-type">System</span>.out.printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Async trading information: %s%n</span><span class="delimiter">&quot;</span></span>, reply);
    } <span class="keyword">else</span> {
      <span class="predefined-type">System</span>.out.printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Error: %s%n</span><span class="delimiter">&quot;</span></span>, error);
    }
  }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Subscribe for account information</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Called on the completting subscription</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Called on the account information change</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Check for an error</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>ServerSubscription contains functions to control streaming of the data. If, for example, you don&#8217;t need to recieve data from any subscription, you can unsubscribe it with help of <strong>close</strong> function.</p>
</div>
<div class="listingblock">
<div class="title">Example Java: ServerSubscription</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td>
  <td class="code"><pre><span class="keyword">import</span> <span class="include">io.grpc.Status</span>;
<span class="keyword">import</span> <span class="include">io.grpc.StatusRuntimeException</span>;
<span class="keyword">import</span> <span class="include">io.grpc.stub.ClientCallStreamObserver</span>;
<span class="keyword">import</span> <span class="include">io.grpc.stub.ClientResponseObserver</span>;

<span class="directive">public</span> <span class="directive">abstract</span> <span class="type">class</span> <span class="class">ServerSubscription</span>&lt;R, T&gt; <span class="directive">implements</span> ClientResponseObserver&lt;R, T&gt;, <span class="predefined-type">Closeable</span> {
  <span class="directive">private</span> ClientCallStreamObserver&lt;R&gt; observer;

  <span class="comment">/**
   * This function is called during subscription initialization.
   * observer will created by GRPC engine and can be used for
   * data flow control.
   */</span>
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> beforeStart(ClientCallStreamObserver&lt;R&gt; observer) {
    <span class="local-variable">this</span>.observer = observer; <i class="conum" data-value="1"></i><b>(1)</b>
  }

  <span class="comment">/**
   * Call this function to unsubscribe from server
   */</span>
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> close() {
    observer.cancel(<span class="string"><span class="delimiter">&quot;</span><span class="content">Fin</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">null</span>); <i class="conum" data-value="2"></i><b>(2)</b>
  }
  <span class="comment">// ...</span>
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Store client observer by initialization</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Stop listening events (unsubscribe from stream)</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="stream-account-transactions-changes"><a class="anchor" href="#stream-account-transactions-changes"></a>Stream account transactions changes</h4>
<div class="paragraph">
<p>To get pushed trading account transactions list is need to subscribe account for trading account transactions stream.</p>
</div>
<div class="listingblock">
<div class="title">Example Java: streamTradingAccountTransactions()</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td>
  <td class="code"><pre><span class="directive">private</span> <span class="type">void</span> streamTradingAccountTransactions() {
  TradingAccounts tradingAccounts = getTradingAccounts(); <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="keyword">for</span> (<span class="type">int</span> accountIndex = <span class="integer">0</span>; accountIndex&lt;tradingAccounts.getAccountsCount(); accountIndex++) {
    TradingAccount account = tradingAccounts.getAccounts(accountIndex); <i class="conum" data-value="2"></i><b>(2)</b>
    TradingAccountRequest request = TradingAccountRequest.newBuilder()
        .setAccessToken(accessToken)
        .setTradingAccount(account)
        .build();
    TradingAccountTransactionsObserver observer = <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="keyword">new</span> TradingAccountTransactionsObserver(request, accountServiceStub);
    accountTransactionsObservers.put(account, observer);
  }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Get trading accounts</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Iterate over each account</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Subscribe account</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example Java: TradingAccountTransactionsObserver</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre></td>
  <td class="code"><pre><span class="keyword">import</span> <span class="include">com.consorsbank.module.tapi.grpc.AccountServiceGrpc.AccountServiceStub</span>;
<span class="keyword">import</span> <span class="include">com.consorsbank.module.tapi.grpc.account.TradingAccount</span>;
<span class="keyword">import</span> <span class="include">com.consorsbank.module.tapi.grpc.account.TradingAccountRequest</span>;
<span class="keyword">import</span> <span class="include">com.consorsbank.module.tapi.grpc.account.TradingAccountTransactions</span>;
<span class="keyword">import</span> <span class="include">com.consorsbank.module.tapi.grpc.account.TradingAccountTransactions.Transaction</span>;
<span class="keyword">import</span> <span class="include">com.consorsbank.module.tapi.grpc.common.Error</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">TradingAccountTransactionsObserver</span> <span class="directive">extends</span> ServerSubscription&lt;TradingAccount, TradingAccountTransactions&gt;{
  <span class="directive">private</span> <span class="directive">final</span> AccountServiceStub orderServiceStub;

  <span class="directive">public</span> TradingAccountTransactionsObserver(
      TradingAccountRequest request, AccountServiceStub orderServiceStub) {

    <span class="local-variable">this</span>.orderServiceStub = orderServiceStub;
    <span class="local-variable">this</span>.orderServiceStub.streamTradingAccountTransactions(request, <span class="local-variable">this</span>); <i class="conum" data-value="1"></i><b>(1)</b>
  }

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> onCompleted() { <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">Call completed!</span><span class="delimiter">&quot;</span></span>);
  }

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> onNext(TradingAccountTransactions transactions) { <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="exception">Error</span> error = transactions.getError(); <i class="conum" data-value="4"></i><b>(4)</b>
    <span class="keyword">if</span> (error==<span class="exception">Error</span>.getDefaultInstance()) {
      <span class="predefined-type">System</span>.out.printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Async trading transactions: %s%n</span><span class="delimiter">&quot;</span></span>, transactions);
      TradingAccount account = transactions.getAccount();
      <span class="predefined-type">List</span>&lt;Transaction&gt; transactionsList = transactions.getTransactionsList();
      <span class="comment">// ...</span>
    } <span class="keyword">else</span> {
      <span class="predefined-type">System</span>.out.printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Error: %s%n</span><span class="delimiter">&quot;</span></span>, error);
    }
  }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Subscribe for the account information</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Called on the completting subscription</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Called on the account transactions change</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Check for an error</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="stock-exchange-service"><a class="anchor" href="#stock-exchange-service"></a>Stock exchange service</h3>
<div class="paragraph">
<p>StockExchange service provides access to the stock exchanges.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 3. StockExchangeService</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#StockExchangeDescriptions">StockExchangeDescriptions</a> = GetStockExchanges(<a href="#AccessTokenRequest">AccessTokenRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gets predefined stockexchages</p>
<p class="tableblock"><strong>@return</strong> StockExchangeDescriptions
   list of stock exchange informations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#StockExchangeDescription">StockExchangeDescription</a> = GetStockExchange(<a href="#StockExchangeRequest">StockExchangeRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gets specific stock exchange</p>
<p class="tableblock"><strong>@param</strong> StockExchange
   Requested stock exchange</p>
<p class="tableblock"><strong>@return</strong> StockExchangeDescription
   Stock exchange information</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="get-information-about-all-stock-exchanges"><a class="anchor" href="#get-information-about-all-stock-exchanges"></a>Get information about all stock exchanges</h4>
<div class="paragraph">
<p>TAPI has list of predefined stock exchanges that can be fetched directly. Each stock exchange has id and optional issuer. Some stock exchanges have identical id&#8217;s, but different issuers. For examples:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">id</th>
<th class="tableblock halign-left valign-top">issuer</th>
<th class="tableblock halign-left valign-top">shortcut id</th>
<th class="tableblock halign-left valign-top">stock exchange name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ETR</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ETR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Xetra</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BAAD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BAA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Baada bank on OTC</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7649</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">LUS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lang und Schwarz</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7004</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commerzbank</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTC</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any issuer on OTC</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Useful</div>
<div class="paragraph">
<p>It&#8217;s possible to use shortcut id, if it exists, to access to the same stock exchange. For example stock exchange ("OTC", "BAAD") equivalent to the stock exchange ("BAA","")</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>These stock exchanges can be requested with help of <strong>Get Stock Exchanges</strong> function. As a result will delivered stock exchanges with names.</p>
</div>
<div class="listingblock">
<div class="title">Example Java: getStockExchanges()</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td>
  <td class="code"><pre><span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> Empty EMPTY = Empty.getDefaultInstance();

<span class="directive">private</span> <span class="directive">final</span> StockExchangeServiceGrpc.StockExchangeServiceBlockingStub stockExchangeServiceBlockingStub;

<span class="directive">private</span> StockExchangeDescriptions getStockExchanges() {
  AccessTokenRequest request = AccessTokenRequest.newBuilder()
      .setAccessToken(accessToken)
      .build();
  <span class="keyword">return</span> stockExchangeServiceBlockingStub.getStockExchanges(request);
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Useful</div>
<div class="paragraph">
<p>This information can be stored and reused in the user application.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="get-information-about-specific-stock-exchange"><a class="anchor" href="#get-information-about-specific-stock-exchange"></a>Get information about specific stock exchange</h4>
<div class="paragraph">
<p>It&#8217;s also possible to get information about one specific stock exchange. Next example shows how to request stock exchange information about Baada issuer on the OTC:</p>
</div>
<div class="listingblock">
<div class="title">Example Java: getBaadaStockExchangeInformation()</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
</pre></td>
  <td class="code"><pre><span class="directive">private</span> StockExchangeDescription getBaadaStockExchangeInformation() {
  StockExchange stockExchange = StockExchange.newBuilder()
      .setId(<span class="string"><span class="delimiter">&quot;</span><span class="content">OTC</span><span class="delimiter">&quot;</span></span>)
      .setIssuer(<span class="string"><span class="delimiter">&quot;</span><span class="content">BAAD</span><span class="delimiter">&quot;</span></span>)
      .build(); <i class="conum" data-value="1"></i><b>(1)</b>

  StockExchangeRequest request = StockExchangeRequest.newBuilder()
      .setAccessToken(accessToken)
      .setStockExchange(stockExchange)
      .build(); <i class="conum" data-value="2"></i><b>(2)</b>
  <span class="keyword">return</span> stockExchangeServiceBlockingStub.getStockExchange(request); <i class="conum" data-value="3"></i><b>(3)</b>
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Prepare Baada on OTC stock exchange</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Build request</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Request information about stock exchange</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="depot-service"><a class="anchor" href="#depot-service"></a>Depot service</h3>
<div class="paragraph">
<p>With help of the depot service is possible to stream information about depot entries. Depot service has next functions:</p>
</div>
<div class="sect3">
<h4 id="stream-depot-changes"><a class="anchor" href="#stream-depot-changes"></a>Stream depot changes</h4>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 4. DepotService</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#DepotEntries">DepotEntries</a> &#8656; StreamDepot(<a href="#TradingAccountRequest">TradingAccountRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subscribes one trading account for the depot data updates</p>
<p class="tableblock"><strong>@param</strong> TradingAccount
     Trading account for push</p>
<p class="tableblock"><strong>@stream</strong> DepotEntries depot entries linked to the account</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Empty">Empty</a> = UpdateDepot(<a href="#TradingAccountRequest">TradingAccountRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initiates depot update action. All changes come by the
StreamDepot subscription. This function doesn&#8217;t wait for the action result.</p>
<p class="tableblock"><strong>@param</strong> TradingAccount
     Trading account for update</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="title">Example Java: streamDepotData()</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td>
  <td class="code"><pre><span class="directive">private</span> <span class="directive">final</span> DepotServiceGrpc.DepotServiceStub depotServiceStub;

<span class="directive">private</span> <span class="type">void</span> streamDepotData() {
  TradingAccounts tradingAccounts = getTradingAccounts(); <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="keyword">for</span> (<span class="type">int</span> accountIndex = <span class="integer">0</span>; accountIndex&lt;tradingAccounts.getAccountsCount(); accountIndex++) {
    TradingAccount account = tradingAccounts.getAccounts(accountIndex);

    TradingAccountRequest request = TradingAccountRequest.newBuilder()
        .setAccessToken(accessToken)
        .setTradingAccount(account)
        .build();

    DepotObserver depotObserver = <span class="keyword">new</span> DepotObserver(request, depotServiceStub); <i class="conum" data-value="2"></i><b>(2)</b>
    depotObservers.put(account, depotObserver);
  }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Get trading accounts</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Greate depot observer for each account</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Update events are delivered on each depot entry change and contain information about whole depot.</p>
</div>
<div class="listingblock">
<div class="title">Example Java: DepotObserver</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre></td>
  <td class="code"><pre><span class="directive">public</span> <span class="type">class</span> <span class="class">DepotObserver</span> <span class="directive">extends</span> ServerSubscription&lt;TradingAccountRequest, DepotEntries&gt;{
  <span class="directive">private</span> <span class="directive">final</span> DepotServiceStub serviceStub;

  <span class="directive">public</span> DepotObserver(TradingAccountRequest request, DepotServiceStub depotServiceStub) {
    <span class="local-variable">this</span>.serviceStub = depotServiceStub;
    <span class="local-variable">this</span>.serviceStub.streamDepot(request, <span class="local-variable">this</span>); <i class="conum" data-value="1"></i><b>(1)</b>
  }


  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> onCompleted() { <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">Call completed!</span><span class="delimiter">&quot;</span></span>);
  }

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> onNext(DepotEntries depotEntries) { <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="exception">Error</span> error = depotEntries.getError(); <i class="conum" data-value="4"></i><b>(4)</b>
    <span class="keyword">if</span> (error==<span class="exception">Error</span>.getDefaultInstance()) {
      <span class="predefined-type">System</span>.out.printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Async depot: %s%n</span><span class="delimiter">&quot;</span></span>, depotEntries);
      TradingAccount account = depotEntries.getAccount();
      <span class="predefined-type">List</span>&lt;DepotEntry&gt; entriesList = depotEntries.getEntriesList();
      <span class="comment">// ...</span>

    } <span class="keyword">else</span> {
      <span class="predefined-type">System</span>.out.printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Error: %s%n</span><span class="delimiter">&quot;</span></span>, error);
    }
  }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Subscribe for the depot data</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Called on the completing subscription</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Called on the depot entries change</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Check for an error</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="update-depot"><a class="anchor" href="#update-depot"></a>Update depot</h4>
<div class="paragraph">
<p>Sometime is necessary to update depot manually. To initiate this update you have to call <strong>UpdateDepot</strong> function. This function takes trading account as input parameter and doesn&#8217;t deliver any results. It&#8217;s also don&#8217;t wait for the results. All changes are delivered directly to the depot listeners in the background.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Warning</div>
<div class="paragraph">
<p>This function used for the compatibility proposals and can be removed in the future versions of the TAPI.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="security-service"><a class="anchor" href="#security-service"></a>Security service</h3>
<div class="sect3">
<h4 id="securities-access"><a class="anchor" href="#securities-access"></a>Securities access</h4>
<div class="paragraph">
<p>All securities can be accessed with help of security codes. Typical trading securities codes are WKN and ISIN. TAPI is able to operate with additional security code types:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Security code type</th>
<th class="tableblock halign-left valign-top">Tradable</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WKN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WKN</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISIN</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID_NOTATION</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FactSet id notation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID_OSI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FactSet id osi</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID_INSTRUMENT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FactSet id instrument</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MNEMONIC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">German short id</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MEMONIC_US</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">US short id (only for us instruments)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Security code can be created with help of next code.</p>
</div>
<div class="listingblock">
<div class="title">Example Java: getSecurityCode()</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
</pre></td>
  <td class="code"><pre><span class="directive">public</span> <span class="directive">static</span> SecurityCode getSecurityCode(<span class="predefined-type">String</span> code, SecurityCodeType codeType) {
  <span class="keyword">return</span> SecurityCode.newBuilder() <i class="conum" data-value="1"></i><b>(1)</b>
      .setCode(code) <i class="conum" data-value="2"></i><b>(2)</b>
      .setCodeType(codeType==<span class="predefined-constant">null</span> ? SecurityCodeType.NO_CODE_TYPE : codeType) <i class="conum" data-value="3"></i><b>(3)</b>
      .build(); <i class="conum" data-value="4"></i><b>(4)</b>
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Create builder for <a href="#SecurityCode">SecurityCode</a> object</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Set security code</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Set security code type (WKN, ISIN, . . .)</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Build immutable <a href="#SecurityCode">SecurityCode</a> object</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Important</div>
<div class="paragraph">
<p>In some cases TAPI can guess security code type by input security code value. In this case the security code type should be set to <strong>NO_CODE_TYPE</strong> value. Please care that&#8217;s not guaranty right detection of the security code. The good practice is to use security code type by the building of the security code object.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Security service contains next functions:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 5. SecurityService</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#SecurityInfoReply">SecurityInfoReply</a> = GetSecurityInfo(<a href="#SecurityInfoRequest">SecurityInfoRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gets security information about security</p>
<p class="tableblock"><strong>@param</strong> SecurityInfoRequest
  Request object with interested security</p>
<p class="tableblock"><strong>@return</strong> SecurityInfoReply
  Complete information about security</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#SecurityMarketDataReply">SecurityMarketDataReply</a> &#8656; StreamMarketData(<a href="#SecurityMarketDataRequest">SecurityMarketDataRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subscribes security with stock exchange for market data updates</p>
<p class="tableblock"><strong>@param</strong> SecurityMarketDataRequest
     Market data request with interested security and stock exchange</p>
<p class="tableblock"><strong>@stream</strong> SecurityMarketDataReply
     Reply with all market data values</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#SecurityOrderBookReply">SecurityOrderBookReply</a> &#8656; StreamOrderBook(<a href="#SecurityOrderBookRequest">SecurityOrderBookRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subscribes security with stock exchange for orderbook updates</p>
<p class="tableblock"><strong>@param</strong> SecurityOrderBookRequest
     Orderbook data request with interested security and stock exchange</p>
<p class="tableblock"><strong>@stream</strong> SecurityOrderBookReply
     Reply with all orderbook values</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#CurrencyRateReply">CurrencyRateReply</a> &#8656; StreamCurrencyRate(<a href="#CurrencyRateRequest">CurrencyRateRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subscribes for currency rate from one currency to another currency.</p>
<p class="tableblock"><strong>@param</strong> SecurityOrderBookRequest
     currency rate request with interested currencies from/to</p>
<p class="tableblock"><strong>@stream</strong> CurrencyRateReply
     reply with currency rate</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#SecurityPriceHistoryReply">SecurityPriceHistoryReply</a> = GetSecurityPriceHistory(<a href="#SecurityPriceHistoryRequest">SecurityPriceHistoryRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Requests history data for one security on one stockexchange in intraday or historical format</p>
<p class="tableblock"><strong>@param</strong> SecurityPriceHistoryRequest
   Data with security, stockexchange, how many days and resolution</p>
<p class="tableblock"><strong>@return</strong> SecurityPriceHistoryReply
   List of the historical quotes or an error</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="get-security-information"><a class="anchor" href="#get-security-information"></a>Get security information</h4>
<div class="paragraph">
<p>Security information can be requested with help of <strong>GetSecurityInfo</strong> function. As a result will delivered security name, class, codes and stock exchanges with trading possibilites. This information can be used by the ordering. It also contains data about tradabity on the different markets and by different issuers. The flags <a href="#SecurityStockExchangeInfo-LimitToken">LimitToken</a> with values <strong>QUOTE_ONLY</strong> and <strong>LIMIT_AND_QUOTE</strong> show if for the security is possible to use quote buy and sell on the selected market by the selected issuer. For more information please see  <a href="#accept-quote">GetQuote</a> and  <a href="#get-securities-quotes">AcceptQuote</a> functions.</p>
</div>
<div class="listingblock">
<div class="title">Example Java: requestSecurityInfo()</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
</pre></td>
  <td class="code"><pre><span class="directive">private</span> <span class="directive">final</span> SecurityServiceGrpc.SecurityServiceBlockingStub securityServiceBlockingStub;

<span class="directive">private</span> SecurityInfoReply requestSecurityInfo(<span class="predefined-type">String</span> code, SecurityCodeType securityCodeType) {
  SecurityCode securityCode = TestUtils.getSecurityCode(code, securityCodeType); <i class="conum" data-value="1"></i><b>(1)</b>
  SecurityInfoRequest request = SecurityInfoRequest.newBuilder() <i class="conum" data-value="2"></i><b>(2)</b>
      .setAccessToken(accessToken)
      .setSecurityCode(securityCode) <i class="conum" data-value="3"></i><b>(3)</b>
      .build(); <i class="conum" data-value="4"></i><b>(4)</b>
  SecurityInfoReply response = securityServiceBlockingStub.getSecurityInfo(request); <i class="conum" data-value="5"></i><b>(5)</b>
  <span class="keyword">return</span> response;
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Create security code object</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Create builder for <a href="#SecurityinfoRequest">SecurityinfoRequest</a> object</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Set security code</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Build immutable <a href="#SecurityinfoRequest">SecurityinfoRequest</a> object</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Request security information</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="stream-market-data-information"><a class="anchor" href="#stream-market-data-information"></a>Stream market data information</h4>
<div class="paragraph">
<p>To get pushed market data (push courses) is need to subscribe security and stock exchange for this information with help of <strong>StreamMarketData</strong> function. <strong>SecurityMarketDataReply</strong> contains all values, which were changed.</p>
</div>
<div class="listingblock">
<div class="title">Example Java: streamMarketData()</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td>
  <td class="code"><pre><span class="directive">private</span> <span class="directive">final</span> SecurityServiceGrpc.SecurityServiceStub securityServiceStub;

<span class="directive">private</span> MarketDataDataObserver streamMarketData(<span class="predefined-type">String</span> code,
    SecurityCodeType securityCodeType, <span class="predefined-type">String</span> stockExchangeId, <span class="predefined-type">String</span> currency) {

  SecurityWithStockExchange securityWithStockExchange = <i class="conum" data-value="1"></i><b>(1)</b>
      TestUtils.getSecurityWithStockExchange(code, securityCodeType, stockExchangeId, <span class="predefined-constant">null</span>);

  SecurityMarketDataRequest request =  SecurityMarketDataRequest.newBuilder()
      .setAccessToken(accessToken)
      .setSecurityWithStockexchange(securityWithStockExchange) <i class="conum" data-value="2"></i><b>(2)</b>
      .setCurrency(currency!=<span class="predefined-constant">null</span> ? currency : <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>)
      .build();

  MarketDataDataObserver marketDataDataObserver = <i class="conum" data-value="3"></i><b>(3)</b>
      <span class="keyword">new</span> MarketDataDataObserver(request, securityServiceStub);

  <span class="predefined-type">String</span> key = code+<span class="string"><span class="delimiter">&quot;</span><span class="content">|</span><span class="delimiter">&quot;</span></span>+securityCodeType+<span class="string"><span class="delimiter">&quot;</span><span class="content">|</span><span class="delimiter">&quot;</span></span>+stockExchangeId+<span class="string"><span class="delimiter">&quot;</span><span class="content">|</span><span class="delimiter">&quot;</span></span>+currency;
  marketDataObservers.put(key, marketDataDataObserver);
  <span class="keyword">return</span> marketDataDataObserver;
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Prepare security with stock exchange</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Prepare request</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Greate <strong>MarketDataDataObserver</strong> to subscribe market data information</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Update events deliver changed market data values.</p>
</div>
<div class="paragraph">
<p>To subscribe for the market data information it is necessary to create <strong>SecurityWithStockExchange</strong> object.</p>
</div>
<div class="listingblock">
<div class="title">Example Java: getSecurityWithStockExchange()</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
</pre></td>
  <td class="code"><pre><span class="directive">public</span> <span class="directive">static</span> SecurityWithStockExchange getSecurityWithStockExchange(
    SecurityCode securityCode, StockExchange stockExchange) {

  <span class="keyword">return</span> SecurityWithStockExchange.newBuilder() <i class="conum" data-value="1"></i><b>(1)</b>
      .setSecurityCode(securityCode) <i class="conum" data-value="2"></i><b>(2)</b>
      .setStockExchange(stockExchange) <i class="conum" data-value="3"></i><b>(3)</b>
      .build(); <i class="conum" data-value="4"></i><b>(4)</b>
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Create builder for <a href="#SecurityWithStockExchange">SecurityWithStockExchange</a> object</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Set security code</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Set stock exchange</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Build immutable <a href="#SecurityWithStockExchange">SecurityWithStockExchange</a> object</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You have to prepare <strong>StockExchange</strong> object.</p>
</div>
<div class="listingblock">
<div class="title">Example Java: getStockExchange()</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
</pre></td>
  <td class="code"><pre><span class="directive">public</span> <span class="directive">static</span> StockExchange getStockExchange(<span class="predefined-type">String</span> stockExchangeId, <span class="predefined-type">String</span> issuer) {
  Builder stockBuilder = StockExchange.newBuilder(); <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="keyword">if</span> (issuer!=<span class="predefined-constant">null</span>) {
    stockBuilder.setIssuer(issuer); <i class="conum" data-value="2"></i><b>(2)</b>
  }
  <span class="keyword">return</span> stockBuilder.setId(stockExchangeId) <i class="conum" data-value="3"></i><b>(3)</b>
      .build(); <i class="conum" data-value="4"></i><b>(4)</b>
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Create builder for <a href="#StockExchange">StockExchange</a> object</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Set issuer</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Set stock exchange id</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Build immutable <a href="#StockExchange">StockExchange</a> object</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example Java: MarketDataDataObserver</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre></td>
  <td class="code"><pre><span class="directive">public</span> <span class="type">class</span> <span class="class">MarketDataDataObserver</span> <span class="directive">extends</span> ServerSubscription&lt;SecurityMarketDataRequest, SecurityMarketDataReply&gt; {
  <span class="directive">private</span> <span class="directive">final</span> SecurityServiceStub securityServiceStub;

  <span class="directive">public</span> MarketDataDataObserver(SecurityMarketDataRequest request,
      SecurityServiceStub securityServiceStub) {

    <span class="local-variable">this</span>.securityServiceStub = securityServiceStub;


    securityServiceStub.streamMarketData(request, <span class="local-variable">this</span>); <i class="conum" data-value="1"></i><b>(1)</b>
  }

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> onCompleted() {
    <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">Call completed!</span><span class="delimiter">&quot;</span></span>); <i class="conum" data-value="2"></i><b>(2)</b>
  }

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> onNext(SecurityMarketDataReply response) {
    <span class="exception">Error</span> error = response.getError();
    <span class="keyword">if</span> (error==<span class="exception">Error</span>.getDefaultInstance()) { <i class="conum" data-value="3"></i><b>(3)</b>
      <span class="predefined-type">System</span>.out.printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Async client onNext: %s%n</span><span class="delimiter">&quot;</span></span>, response);
      <span class="type">double</span> lastPrice = response.getLastPrice();
      <span class="predefined-type">Timestamp</span> lastDateTime = response.getLastDateTime();
      <span class="comment">// ...</span>

    } <span class="keyword">else</span> {
      <span class="predefined-type">System</span>.out.printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Error: %s%n</span><span class="delimiter">&quot;</span></span>, error);
    }
  }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Subscribe for the market data</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Called of complete subscription</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Process madret data events</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="stream-orderbook-data"><a class="anchor" href="#stream-orderbook-data"></a>Stream orderbook data</h4>
<div class="paragraph">
<p>To get pushed orderbook data (second level push courses) is need to subscribe security and stockexchange for this information with help of <strong>StreamOrderBook</strong> function. <a href="#SecurityOrderBookReply">SecurityOrderBookReply</a> contains actual orderbook values. To create <strong>SecurityOrderBookRequest</strong> is need to create <a href="#SecurityWithStockExchange">SecurityWithStockExchange</a> object first. Currently order book data supported only on Xetra stock exchange.</p>
</div>
<div class="listingblock">
<div class="title">Example Java: streamOrderBook()</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td>
  <td class="code"><pre><span class="directive">private</span> <span class="directive">final</span> SecurityServiceGrpc.SecurityServiceStub securityServiceStub;

<span class="directive">private</span> OrderBookDataObserver streamOrderBook(<span class="predefined-type">String</span> code,
    SecurityCodeType securityCodeType, <span class="predefined-type">String</span> stockExchangeId, <span class="predefined-type">String</span> currency) {

  SecurityWithStockExchange securityWithStockExchange =  <i class="conum" data-value="1"></i><b>(1)</b>
      TestUtils.getSecurityWithStockExchange(code, securityCodeType, stockExchangeId, <span class="predefined-constant">null</span>);

  SecurityOrderBookRequest request = SecurityOrderBookRequest.newBuilder()
      .setAccessToken(accessToken)
      .setSecurityWithStockexchange(securityWithStockExchange)
      .setCurrency(currency==<span class="predefined-constant">null</span> ? <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span> : currency)
      .build(); <i class="conum" data-value="2"></i><b>(2)</b>

  OrderBookDataObserver orderBookDataObserver =  <i class="conum" data-value="3"></i><b>(3)</b>
      <span class="keyword">new</span> OrderBookDataObserver(request, securityServiceStub);

  <span class="predefined-type">String</span> key = code+<span class="string"><span class="delimiter">&quot;</span><span class="content">|</span><span class="delimiter">&quot;</span></span>+securityCodeType+<span class="string"><span class="delimiter">&quot;</span><span class="content">|</span><span class="delimiter">&quot;</span></span>+stockExchangeId+<span class="string"><span class="delimiter">&quot;</span><span class="content">|</span><span class="delimiter">&quot;</span></span>+currency;
  orderBookObservers.put(key, orderBookDataObserver);
  <span class="keyword">return</span> orderBookDataObserver;
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Prepare security with stock exchange</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Prepare request</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Greate <strong>OrderBookData</strong> observer to subscribe orderbook information</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example Java: OrderBookDataObserver</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre></td>
  <td class="code"><pre><span class="directive">public</span> <span class="type">class</span> <span class="class">OrderBookDataObserver</span> <span class="directive">extends</span> ServerSubscription&lt;SecurityOrderBookRequest, SecurityOrderBookReply&gt; {
  <span class="directive">private</span> <span class="directive">final</span> SecurityServiceStub securityServiceStub;

  <span class="directive">public</span> OrderBookDataObserver(SecurityOrderBookRequest request,
      SecurityServiceStub securityServiceStub) {
    <span class="local-variable">this</span>.securityServiceStub = securityServiceStub;

    securityServiceStub.streamOrderBook(request, <span class="local-variable">this</span>); <i class="conum" data-value="1"></i><b>(1)</b>
  }

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> onCompleted() {
    <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">Call completed!</span><span class="delimiter">&quot;</span></span>); <i class="conum" data-value="2"></i><b>(2)</b>
  }

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> onNext(SecurityOrderBookReply response) {
    <span class="exception">Error</span> error = response.getError();
    <span class="keyword">if</span> (error==<span class="exception">Error</span>.getDefaultInstance()) {
      <span class="predefined-type">System</span>.out.printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Async client onNext: %s%n</span><span class="delimiter">&quot;</span></span>, response); <i class="conum" data-value="3"></i><b>(3)</b>
      <span class="predefined-type">List</span>&lt;OrderBookEntry&gt; orderBookEntriesList = response.getOrderBookEntriesList();
      <span class="keyword">for</span> (OrderBookEntry orderBookEntry : orderBookEntriesList) {
        <span class="type">double</span> askPrice = orderBookEntry.getAskPrice();
        <span class="type">double</span> askVolume = orderBookEntry.getAskVolume();
      }
      <span class="comment">// ...</span>

    } <span class="keyword">else</span> {
      <span class="predefined-type">System</span>.out.printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Error: %s%n</span><span class="delimiter">&quot;</span></span>, error);
    }
  }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Subscribe for orderbook data</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Called on complete subscription</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Process order book events</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="stream-currency-rate"><a class="anchor" href="#stream-currency-rate"></a>Stream currency rate</h4>
<div class="paragraph">
<p>It is possible to get pushed currency rate from one currency to other. This information can be used for the realtime convertation of the money values.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Important</div>
<div class="paragraph">
<p>For the market data quotes / order books it is possible to define target currency. It this case the convertation will be processed automatically.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example Java: streamCurrencyRate(String currencyFrom, String currencyTo)</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td>
  <td class="code"><pre><span class="directive">private</span> <span class="directive">final</span> SecurityServiceGrpc.SecurityServiceStub securityServiceStub;

<span class="directive">private</span> CurrencyRateDataObserver streamCurrencyRate(<span class="predefined-type">String</span> currencyFrom, <span class="predefined-type">String</span> currencyTo) {
  CurrencyRateRequest request = CurrencyRateRequest.newBuilder()
      .setAccessToken(accessToken)
      .setCurrencyFrom(currencyFrom)
      .setCurrencyTo(currencyTo)
      .build(); <i class="conum" data-value="1"></i><b>(1)</b>

  CurrencyRateDataObserver currencyRateDataObserver = <i class="conum" data-value="2"></i><b>(2)</b>
      <span class="keyword">new</span> CurrencyRateDataObserver(request, securityServiceStub);

  <span class="predefined-type">String</span> key = currencyFrom+<span class="string"><span class="delimiter">&quot;</span><span class="content">|</span><span class="delimiter">&quot;</span></span>+currencyTo;
  currencyObservers.put(key, currencyRateDataObserver);
  <span class="keyword">return</span> currencyRateDataObserver;
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Greate request</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Greate CurrencyRateData observer to subscribe currency rate</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example Java: CurrencyRateDataObserver</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre></td>
  <td class="code"><pre><span class="directive">public</span> <span class="type">class</span> <span class="class">CurrencyRateDataObserver</span> <span class="directive">extends</span> ServerSubscription&lt;CurrencyRateRequest, CurrencyRateReply&gt; {
  <span class="directive">private</span> <span class="directive">final</span> SecurityServiceStub securityServiceStub;

  <span class="directive">public</span> CurrencyRateDataObserver(CurrencyRateRequest request,
      SecurityServiceStub securityServiceStub) {

    <span class="local-variable">this</span>.securityServiceStub = securityServiceStub;


    securityServiceStub.streamCurrencyRate(request, <span class="local-variable">this</span>); <i class="conum" data-value="1"></i><b>(1)</b>
  }

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> onCompleted() {
    <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">Call completed!</span><span class="delimiter">&quot;</span></span>); <i class="conum" data-value="2"></i><b>(2)</b>
  }

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> onNext(CurrencyRateReply response) {
    <span class="exception">Error</span> error = response.getError();
    <span class="keyword">if</span> (error==<span class="exception">Error</span>.getDefaultInstance()) {
      <span class="predefined-type">System</span>.out.printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Async client onNext: %s%n</span><span class="delimiter">&quot;</span></span>, response);
      <span class="type">double</span> currencyRate = response.getCurrencyRate(); <i class="conum" data-value="3"></i><b>(3)</b>
      <span class="comment">// ...</span>

    } <span class="keyword">else</span> {
      <span class="predefined-type">System</span>.out.printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Error: %s%n</span><span class="delimiter">&quot;</span></span>, error);
    }
  }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Subscribe for currency rate</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Called on complite subscription</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Process currency rate events</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="get-security-historic-data"><a class="anchor" href="#get-security-historic-data"></a>Get security historic data</h4>
<div class="paragraph">
<p>Security historic data can be requested with help of getSecurityPriceHistory() function. As a result will delivered security with stock exchange, currency, historic data list. The parameter <strong>days</strong> defines how many trading day will be requested. For intraday types of the time resolution this value should be <strong>15 or less</strong>. Be careful the amount of the data can be very big, especialy for intraday data with tick resolution.</p>
</div>
<div class="listingblock">
<div class="title">Example Java: getSecurityPriceHistory()</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td>
  <td class="code"><pre><span class="directive">private</span> <span class="directive">final</span> SecurityServiceGrpc.SecurityServiceBlockingStub securityServiceBlockingStub;

<span class="directive">private</span> SecurityPriceHistoryReply getSecurityPriceHistory(
    <span class="predefined-type">String</span> code, SecurityCodeType securityCodeType, <span class="predefined-type">String</span> stockExchangeId,
    <span class="type">int</span> days, TimeResolution resolution) {

  SecurityWithStockExchange securityWithStockExchange =  <i class="conum" data-value="1"></i><b>(1)</b>
      TestUtils.getSecurityWithStockExchange(code, securityCodeType, stockExchangeId, <span class="predefined-constant">null</span>);
  SecurityPriceHistoryRequest request = SecurityPriceHistoryRequest.newBuilder() <i class="conum" data-value="2"></i><b>(2)</b>
      .setAccessToken(accessToken)
      .setSecurityWithStockexchange(securityWithStockExchange) <i class="conum" data-value="3"></i><b>(3)</b>
      .setDays(days) <i class="conum" data-value="4"></i><b>(4)</b>
      .setTimeResolution(resolution) <i class="conum" data-value="5"></i><b>(5)</b>
      .build(); <i class="conum" data-value="6"></i><b>(6)</b>
  SecurityPriceHistoryReply response =
      securityServiceBlockingStub.getSecurityPriceHistory(request); <i class="conum" data-value="7"></i><b>(7)</b>
  <span class="keyword">return</span> response;
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Create security with stock exchange object</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Create builder for <a href="#SecurityPriceHistoryRequest">SecurityPriceHistoryRequest</a> object</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Set security with stock exchange</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Set days number</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Set time resolution (tick, minute, etc)</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Build immutable <a href="#SecurityPriceHistoryRequest">SecurityPriceHistoryRequest</a> object</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Request historic data</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Important</div>
<div class="paragraph">
<p>Last example will block program execution until the result is returned. Sometimes to avoid timeouts by the listening it&#8217;s better to use non blocking calls.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="order-service"><a class="anchor" href="#order-service"></a>Order service</h3>
<div class="paragraph">
<p>With help of the order service is possible to execute, change, activate, deactivate or cancel orders. It&#8217;s also allow to listen for the orders and to control them  asyncronically.</p>
</div>
<div class="sect3">
<h4 id="order-types-and-parameters"><a class="anchor" href="#order-types-and-parameters"></a>Order types and parameters</h4>
<div class="paragraph">
<p>TAPI allowes to execute different order types on the stock exchanges with different parameters. Next tables shows what parameters are necessary (<strong>x</strong>) and optional (<strong>o</strong>) depends from selected stock exchange and order model. The full list of order possibilites is delivered by the <a href="#get-security-information">GetSecurityInformation</a> function.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1112%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter \ Order model</th>
<th class="tableblock halign-left valign-top">Market</th>
<th class="tableblock halign-left valign-top">Limit</th>
<th class="tableblock halign-left valign-top">StopMarket</th>
<th class="tableblock halign-left valign-top">StopLimit</th>
<th class="tableblock halign-left valign-top">OneCancelsOtherMarket</th>
<th class="tableblock halign-left valign-top">OneCancelsOtherLimit</th>
<th class="tableblock halign-left valign-top">TrailingStopMarket</th>
<th class="tableblock halign-left valign-top">TrailingStopLimit</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">account_number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">security_with_stockexchange</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">order_type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">amount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">order_supplement</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o, 1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o, 1)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">validity_date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">limit</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stop</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stop_limit</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">trailing_distance</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">trailing_notation</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">trailing_limit_tolerance</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x, 2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dripping_quantity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o, 3)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o, 3)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">position_id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o, 4)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o, 4)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o, 4)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o, 4)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o, 4)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o, 4)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o, 4)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o, 4)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">validation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o ,5)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o ,5)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o ,5)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o ,5)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o ,5)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o ,5)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o ,5)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o ,5)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cash_quotation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o, 6)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o, 6)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o, 6)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o, 6)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o, 6)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o, 6)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o, 6)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o, 6)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">risk_class_override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">target_market_override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tax_nontransparent_override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">accept_additional_fees</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">closed_realestate_fond_override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">o</p></td>
</tr>
</tbody>
</table>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Stock exchange: ETR only, values: IMMIDIATE_OR_CANCEL, FILL_OR_KILL, ICEBERG</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Stock exchange: TRG only</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Stock exchange: ETR only, when order_supplement equals ICEBERG, <mark>pro</mark> only</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Position id is optional field by the order action with existing depot position</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Default value: <strong>WITHOUT_VALIDATION</strong>. Order is routed directly to market</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Cash quotation:</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Stock exchange</th>
<th class="tableblock halign-left valign-top">NOTHING</th>
<th class="tableblock halign-left valign-top">KASSA</th>
<th class="tableblock halign-left valign-top">AUCTION</th>
<th class="tableblock halign-left valign-top">OPENING</th>
<th class="tableblock halign-left valign-top">INTRADAY</th>
<th class="tableblock halign-left valign-top">CLOSING</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ETR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">German</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Other</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The full list of the order service functions can be checked in the next list. Some functionality avialable only in <mark>pro</mark> version of the ActiveTrader.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="title">Important</div>
<div class="paragraph">
<p>To execute new order is need at least to fill all madatory fields. See <strong>x</strong> values in the each column for selected order model.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example Java: OneCancelOtherMarket order</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td>
  <td class="code"><pre>SecurityWithStockExchange securityWithStockExchange = TestUtils.getSecurityWithStockExchange(<span class="string"><span class="delimiter">&quot;</span><span class="content">710000</span><span class="delimiter">&quot;</span></span>, SecurityCodeType.WKN, <span class="string"><span class="delimiter">&quot;</span><span class="content">ETR</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">null</span>);

<span class="comment">//</span>
AddOrderRequest addRequest = AddOrderRequest.newBuilder() <i class="conum" data-value="1"></i><b>(1)</b>
    .setOrderModel(OrderModel.ONE_CANCELS_OTHER_MARKET) <i class="conum" data-value="2"></i><b>(2)</b>
    .setAccountNumber(account.getAccountNumber())
    .setSecurityWithStockexchange(securityWithStockExchange)
    .setAmount(<span class="integer">1</span>)
    .setValidation(Validation.VALIDATE_ONLY)
    .setLimit(<span class="integer">39</span>)
    .setStop(<span class="integer">40</span>)
    .setOrderType(OrderType.BUY)
    .setValidityDate(TestUtils.getDate(LocalDate.now())) <span class="comment">// today</span>
    .build();
OrderReply addReply = getOrdersBlockingStub().addOrder(addRequest); <i class="conum" data-value="3"></i><b>(3)</b></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Fill mandatory parameters</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>OneCancelOtherMarket order and it&#8217;s parameters</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Process order</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="stream-orders"><a class="anchor" href="#stream-orders"></a>Stream orders</h4>
<div class="paragraph">
<p>To get information about current orders ist need to subscribe for this information with help of StreamOrders function. All order changes will come asynchronically as a list of the all avialable orders.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Useful</div>
<div class="paragraph">
<p>An amount of the updated orders can be configured in the ActiveTrader general settings.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example Java: streamOrders()</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td>
  <td class="code"><pre><span class="directive">private</span> <span class="directive">final</span> OrderServiceGrpc.OrderServiceStub orderServiceStub;

<span class="directive">private</span> <span class="type">void</span> streamOrders() {
  TradingAccounts tradingAccounts = getTradingAccounts(); <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="keyword">for</span> (<span class="type">int</span> accountIndex = <span class="integer">0</span>; accountIndex&lt;tradingAccounts.getAccountsCount(); accountIndex++) {
    TradingAccount account = tradingAccounts.getAccounts(accountIndex); <i class="conum" data-value="2"></i><b>(2)</b>
    TradingAccountRequest request = TradingAccountRequest.newBuilder()
        .setAccessToken(accessToken)
        .setTradingAccount(account)
        .build();
    OrdersObserver ordersObserver = <span class="keyword">new</span> OrdersObserver(request, orderServiceStub); <i class="conum" data-value="3"></i><b>(3)</b>
    ordersObservers.put(account, ordersObserver);
  }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Get trading accounts</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Iterate over each account</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Subscribe account</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example Java: OrdersObserver</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
</pre></td>
  <td class="code"><pre><span class="keyword">import</span> <span class="include">com.consorsbank.module.tapi.grpc.OrderServiceGrpc.OrderServiceStub</span>;
<span class="keyword">import</span> <span class="include">com.consorsbank.module.tapi.grpc.account.TradingAccount</span>;
<span class="keyword">import</span> <span class="include">com.consorsbank.module.tapi.grpc.account.TradingAccountRequest</span>;
<span class="keyword">import</span> <span class="include">com.consorsbank.module.tapi.grpc.common.Error</span>;
<span class="keyword">import</span> <span class="include">com.consorsbank.module.tapi.grpc.order.Order</span>;
<span class="keyword">import</span> <span class="include">com.consorsbank.module.tapi.grpc.order.Orders</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">OrdersObserver</span> <span class="directive">extends</span> ServerSubscription&lt;TradingAccount, Orders&gt;{
  <span class="directive">private</span> <span class="directive">final</span> OrderServiceStub orderServiceStub;

  <span class="directive">public</span> OrdersObserver(TradingAccountRequest request, OrderServiceStub orderServiceStub) {
    <span class="local-variable">this</span>.orderServiceStub = orderServiceStub;
    <span class="local-variable">this</span>.orderServiceStub.streamOrders(request, <span class="local-variable">this</span>); <i class="conum" data-value="1"></i><b>(1)</b>
  }

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> onCompleted() { <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">Call completed!</span><span class="delimiter">&quot;</span></span>);
  }

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> onNext(Orders orders) { <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="exception">Error</span> error = orders.getError(); <i class="conum" data-value="4"></i><b>(4)</b>
    <span class="keyword">if</span> (error==<span class="exception">Error</span>.getDefaultInstance()) {
      <span class="predefined-type">System</span>.out.printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Async orders: %s%n</span><span class="delimiter">&quot;</span></span>, orders);
      TradingAccount account = orders.getAccount();
      <span class="predefined-type">List</span>&lt;Order&gt; ordersList = orders.getOrdersList();
      <span class="comment">// ...</span>

    } <span class="keyword">else</span> {
      <span class="predefined-type">System</span>.out.printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Error: %s%n</span><span class="delimiter">&quot;</span></span>, error);
    }
  }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Subscribe for the order data</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Called on the completing subscription</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Called on the depot entries change</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Check for an error</td>
</tr>
</table>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="title">Important</div>
<div class="paragraph">
<p>In the <mark>pro</mark> version of the ActiveTrader <strong>order number</strong> value can be changed (for example after activation / deactivation of the order). To match saved in the client application orders with the orders from update is need to use unique_id field from the <a href="#Order">Order</a> object.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="update-orders"><a class="anchor" href="#update-orders"></a>Update orders</h4>
<div class="paragraph">
<p>Sometime is necessary to update orders manually. To initiate this update you have to call <strong>UpdateOrders</strong> function. This function takes trading account as input parameter and doesn&#8217;t deliver any results. It&#8217;s also don&#8217;t wait for the results. All changes are delivered directly to the orders listeners in the background.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Warning</div>
<div class="paragraph">
<p>This function used for the compatibility proposals and can be removed in the future versions of the TAPI.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="get-securities-quotes"><a class="anchor" href="#get-securities-quotes"></a>Get securities quotes</h4>
<div class="paragraph">
<p>Before to execute order add action is often necessary to get actual quote information for the selected security. This information can be subscribed in the security service or requested in the order service. It&#8217;s not a matter where this information is requested for the normal order add action, but it&#8217;s important in case if you want to process accept quote on the short term market. In this case is necessary to use get quote function from order service.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="title">Important</div>
<div class="paragraph">
<p>Please call get quote function before to call of the accept order action.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example Java: requestQuotesDirect()</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td>
  <td class="code"><pre><span class="directive">private</span> <span class="type">void</span> requestQuotesDirect(<span class="predefined-type">String</span> code, SecurityCodeType securityCodeType) {
  QuoteRequest quoteRequest = QuoteRequest.newBuilder()
      .setAccessToken(accessToken)
      .setOrderType(OrderType.BUY) <i class="conum" data-value="1"></i><b>(1)</b>
      .setSecurityCode(TestUtils.getSecurityCode(code, securityCodeType)) <i class="conum" data-value="2"></i><b>(2)</b>
      .setAmount(<span class="integer">10</span>) <i class="conum" data-value="3"></i><b>(3)</b>
      .addStockExchanges(TestUtils.getStockExchange(<span class="string"><span class="delimiter">&quot;</span><span class="content">ETR</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">null</span>)) <i class="conum" data-value="4"></i><b>(4)</b>
      .addStockExchanges(TestUtils.getStockExchange(<span class="string"><span class="delimiter">&quot;</span><span class="content">OTC</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">null</span>))
      .addStockExchanges(TestUtils.getStockExchange(<span class="string"><span class="delimiter">&quot;</span><span class="content">TRG</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">null</span>))
      .build();
  QuoteReply quoteReply = orderServiceBlockingStub.getQuote(quoteRequest); <i class="conum" data-value="5"></i><b>(5)</b>
  <span class="keyword">if</span> (quoteReply.getError()!=<span class="exception">Error</span>.getDefaultInstance()) {
    <span class="predefined-type">List</span>&lt;QuoteEntry&gt; priceEntriesList = quoteReply.getPriceEntriesList(); <i class="conum" data-value="6"></i><b>(6)</b>
    <span class="keyword">for</span> (QuoteEntry quoteEntry : priceEntriesList) {
      <span class="keyword">if</span> (quoteEntry.getError()!=<span class="exception">Error</span>.getDefaultInstance()) {
        <span class="comment">// ...</span>
      }
    }
  }
}
</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Set order type</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Set security code</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Set amount for the ordering</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Set requestes stock exchanges</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Request quotes with help of the <strong>blocking</strong> stub</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Process results</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Other difference between quotes from the security service and order service is that it&#8217;s depended from user rights. An order service can have limited amount of the requests for the long terms stockexchanges.
You can request data more then from one stock exchange for one security at once. In this case function returns all results for all requested stock exchanges after processing of all data for each stock exchange. That can follow to the timeouts by the functions calls. You can use asychronical requests if to don&#8217;t have timeouts is important. It&#8217;s also possible to process many get quote requests in parallel and pack to each request only one stockexchange. The results from the requests can be processed in background.</p>
</div>
<div class="listingblock">
<div class="title">Example Java: requestQuotesAsynchronically()</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
</pre></td>
  <td class="code"><pre><span class="directive">private</span> <span class="type">void</span> requestQuotesAsynchronically(<span class="predefined-type">String</span> code, SecurityCodeType securityCodeType) {
  <span class="directive">final</span> StreamObserver&lt;QuoteReply&gt; quotesObserver = <span class="keyword">new</span> StreamObserver&lt;QuoteReply&gt;() { <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> onNext(QuoteReply quoteReply) {
      <span class="predefined-type">System</span>.err.println(quoteReply); <i class="conum" data-value="2"></i><b>(2)</b>
      <span class="keyword">if</span> (quoteReply.getError()!=<span class="exception">Error</span>.getDefaultInstance()) {
        <span class="predefined-type">List</span>&lt;QuoteEntry&gt; priceEntriesList = quoteReply.getPriceEntriesList();
        <span class="comment">// priceEntriesList will contain only one entry</span>
        <span class="keyword">for</span> (QuoteEntry quoteEntry : priceEntriesList) {
          StockExchange stockExchange = quoteEntry.getStockExchange();
          <span class="keyword">if</span> (quoteEntry.getError()!=<span class="exception">Error</span>.getDefaultInstance()) {
            <span class="comment">// ...</span>
          }
        }
      }
    }
    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> onError(<span class="predefined-type">Throwable</span> t) {
      t.printStackTrace();
    }
    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> onCompleted() {}
  };
  <span class="directive">final</span> SecurityCode securityCode = TestUtils.getSecurityCode(code, securityCodeType); <i class="conum" data-value="3"></i><b>(3)</b>
  <span class="directive">final</span> StockExchange<span class="type">[]</span> stockexchanges = { <i class="conum" data-value="4"></i><b>(4)</b>
      TestUtils.getStockExchange(<span class="string"><span class="delimiter">&quot;</span><span class="content">ETR</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">null</span>),
      TestUtils.getStockExchange(<span class="string"><span class="delimiter">&quot;</span><span class="content">OTC</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">null</span>),
      TestUtils.getStockExchange(<span class="string"><span class="delimiter">&quot;</span><span class="content">TRG</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">null</span>),
  };

  <span class="comment">// Request data</span>
  <span class="keyword">for</span> (StockExchange stockExchange : stockexchanges) {
    QuoteRequest quoteRequest = QuoteRequest.newBuilder() <i class="conum" data-value="5"></i><b>(5)</b>
        .setAccessToken(accessToken)
        .setOrderType(OrderType.BUY)
        .setSecurityCode(securityCode)
        .setAmount(<span class="integer">10</span>)
        .addStockExchanges(stockExchange)
        .build();
    orderServiceStub.getQuote(quoteRequest, quotesObserver);
  }

  <span class="comment">// ...</span>
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Prepare listener</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Process results in the background</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Prepare security code</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Prepare stock exchanges</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Request quotes with help of the <strong>non blocking</strong> stub</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="accept-quote"><a class="anchor" href="#accept-quote"></a>Accept quote</h4>
<div class="paragraph">
<p>To place an order on the short term market is necessary to request quote first. If <strong>QuoteEntry</strong> will contain filled <strong>quote_reference</strong> field then it&#8217;s possible to place order with help of accept quote function to the short term market. Otherwise accept quote is not possible. By the calling of the accept quote function you have to use same parameters as you used for the get quote. Otherwise the request parameters will be denied and the action will be finished with an error.</p>
</div>
<div class="listingblock">
<div class="title">Example Java: acceptQuote()</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
</pre></td>
  <td class="code"><pre><span class="directive">private</span> <span class="type">void</span> acceptQuote() {
  QuoteRequest quoteRequest = QuoteRequest.newBuilder() <i class="conum" data-value="1"></i><b>(1)</b>
      .setAccessToken(accessToken)
      .setOrderType(OrderType.BUY)
      .setSecurityCode(TestUtils.getSecurityCode(<span class="string"><span class="delimiter">&quot;</span><span class="content">710000</span><span class="delimiter">&quot;</span></span>, SecurityCodeType.WKN))
      .setAmount(<span class="integer">10</span>)
      .addStockExchanges(TestUtils.getStockExchange(<span class="string"><span class="delimiter">&quot;</span><span class="content">OTC</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">null</span>))
      .build();

  PerformanceCounter pcGetQuote = <span class="keyword">new</span> PerformanceCounter(<span class="string"><span class="delimiter">&quot;</span><span class="content">GetQuote</span><span class="delimiter">&quot;</span></span>);
  QuoteReply quoteReply = orderServiceBlockingStub.getQuote(quoteRequest); <i class="conum" data-value="2"></i><b>(2)</b>
  pcGetQuote.print();

  <span class="keyword">if</span> (quoteReply.getError()==<span class="exception">Error</span>.getDefaultInstance()) {
    QuoteEntry quoteEntry = quoteReply.getPriceEntries(<span class="integer">0</span>); <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="keyword">if</span> (quoteEntry.getError()==<span class="exception">Error</span>.getDefaultInstance() &amp;&amp;
        !quoteEntry.getQuoteReference().isEmpty()) { <i class="conum" data-value="4"></i><b>(4)</b>
      SecurityWithStockExchange securityWithStockExchange = <i class="conum" data-value="5"></i><b>(5)</b>
          TestUtils.getSecurityWithStockExchange(
              quoteReply.getSecurityCode(), quoteEntry.getStockExchange());

      AcceptQuoteRequest acceptQuoteRequest = AcceptQuoteRequest.newBuilder() <i class="conum" data-value="6"></i><b>(6)</b>
          .setAccessToken(accessToken)
          .setOrderType(OrderType.BUY)
          <span class="comment">// .setAccountNumber(accountNumber)</span>
          .setSecurityWithStockexchange(securityWithStockExchange)
          .setAmount(<span class="integer">10</span>)
          .setValidation(Validation.VALIDATE_ONLY) <i class="conum" data-value="7"></i><b>(7)</b>
          .setLimit(quoteEntry.getBuyPrice())
          .setQuoteReference(quoteEntry.getQuoteReference()) <i class="conum" data-value="8"></i><b>(8)</b>
          .build();
      OrderReply acceptQuote = orderServiceBlockingStub.acceptQuote(acceptQuoteRequest); <i class="conum" data-value="9"></i><b>(9)</b>
      <span class="predefined-type">System</span>.err.println(acceptQuote);
    }
  }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Prepare get quote request</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Call get quote function</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Get recieved quotes (it should be only one quote, because we requested data for one stock exchange)</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Check if we have quote reference</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Prepare security with stock exchange object</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Preapare accept quote request</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Set validation flag</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Set to the request quote reference</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>Call accept quote function and wait for the result</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Warning</div>
<div class="paragraph">
<p>By default <strong>validation</strong> parameter equals <strong>WITHOUT_VALIDATION</strong> and accept quote request will directly routed to the market. If you want only check a validity of the request, then you need to set <strong>validation</strong> parameter to <strong>VALIDATE_ONLY</strong>. An order will validated by the backend system, but will not be routed to the market. It&#8217;s very useful for the test goals. Order number in the reply in this case is undefined.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="add-order"><a class="anchor" href="#add-order"></a>Add order</h4>
<div class="paragraph">
<p>To put new order to the long term marken is necessary to use <strong>AddOrder</strong> function. This function takes <strong>AddOrderRequest</strong> as an input parameter and returns OrderReply as a result. Typically this function is called with blocked stub, but it can also used with non blocking stub if more then one order need to executed in parallel.</p>
</div>
<div class="paragraph">
<p>The possible parameter combinations can be fetched from security information reply. There are defined order possibilities for defined markets.</p>
</div>
<div class="paragraph">
<p><mark>Pro</mark> version of the ActiveTrader allowes to use additional flag <strong>inactive</strong>. If this flag set to the value <strong>true</strong> then order is placed to the system, but isn&#8217;t routed to the market. With the help of <a href="#activate-order">ActivateOrder</a> function an order can be activated.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Important</div>
<div class="paragraph">
<p>It&#8217;s important to fill only parameters that need for the order execution</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example Java: addOrder()</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td>
  <td class="code"><pre><span class="directive">private</span> <span class="directive">final</span> OrderServiceGrpc.OrderServiceBlockingStub orderServiceBlockingStub;

<span class="directive">private</span> OrderReply addOrder() {
  SecurityCode securityCode = TestUtils.getSecurityCode(<span class="string"><span class="delimiter">&quot;</span><span class="content">710000</span><span class="delimiter">&quot;</span></span>, SecurityCodeType.WKN); <i class="conum" data-value="1"></i><b>(1)</b>
  StockExchange stockExchange = TestUtils.getStockExchange(<span class="string"><span class="delimiter">&quot;</span><span class="content">ETR</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">null</span>); <i class="conum" data-value="2"></i><b>(2)</b>
  SecurityWithStockExchange securityWithStockExchange =
      TestUtils.getSecurityWithStockExchange(securityCode, stockExchange); <i class="conum" data-value="3"></i><b>(3)</b>
  AddOrderRequest request = AddOrderRequest.newBuilder() <i class="conum" data-value="4"></i><b>(4)</b>
      .setAccessToken(accessToken)
      .setAccountNumber(<span class="string"><span class="delimiter">&quot;</span><span class="content">123456789</span><span class="delimiter">&quot;</span></span>) <i class="conum" data-value="5"></i><b>(5)</b>
      .setSecurityWithStockexchange(securityWithStockExchange)
      .setValidation(Validation.VALIDATE_ONLY) <i class="conum" data-value="6"></i><b>(6)</b>
      .setAmount(<span class="integer">1</span>)
      .setOrderModel(OrderModel.LIMIT) <i class="conum" data-value="7"></i><b>(7)</b>
      .setLimit(<span class="integer">1</span>)
      .setOrderType(OrderType.BUY) <i class="conum" data-value="8"></i><b>(8)</b>
      .setCashQuotation(CashQuotation.KASSA)
      .setValidityDate(TestUtils.getDate(<span class="predefined-type">GregorianCalendar</span>.getInstance()))
      .build();
  OrderReply addOrderReply = orderServiceBlockingStub.addOrder(request); <i class="conum" data-value="9"></i><b>(9)</b>
  <span class="predefined-type">System</span>.err.println(addOrderReply);
  <span class="keyword">return</span> addOrderReply;
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Prepare security code</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Prepare stock exchange</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Prepare security with stock exchange</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Prepare request</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Set trading account</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Set validation flag</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Set order limit</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Set order type</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>Process order add</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Warning</div>
<div class="paragraph">
<p>By default <strong>validation</strong> parameter equals <strong>WITHOUT_VALIDATION</strong> and accept quote request will directly routed to the market. If you want only check a validity of the request, then you need to set <strong>validation</strong> parameter to <strong>VALIDATE_ONLY</strong>. An order will validated by the backend system, but will not be routed to the market. It&#8217;s very useful for the test goals. Order number in the reply in this case is undefined.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="change-order"><a class="anchor" href="#change-order"></a>Change order</h4>
<div class="paragraph">
<p>To change order is necessary to have order number of existing order and an account with this order linked to. The order can be changed if the status of the orders allowes that and new state is allowed by the markt.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Useful</div>
<div class="paragraph">
<p>Sometimes can happens that order is changed / executed on the market, but status information is not delivered into the application.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example Java: changeOrder()</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td>
  <td class="code"><pre><span class="directive">private</span> <span class="directive">final</span> OrderServiceGrpc.OrderServiceBlockingStub orderServiceBlockingStub;

<span class="directive">private</span> <span class="type">void</span> changeOrder(Order order, TradingAccount account) {
  <span class="keyword">if</span> (order!=<span class="predefined-constant">null</span>) {
    <span class="predefined-type">String</span> orderNumber = order.getOrderNumber();
    <span class="keyword">if</span> (orderNumber!=<span class="predefined-constant">null</span> &amp;&amp; !orderNumber.isEmpty()) {
      ChangeOrderRequest changeOrderRequest = ChangeOrderRequest.newBuilder()
          .setAccessToken(accessToken)
          .setAccountNumber(account.getAccountNumber()) <i class="conum" data-value="1"></i><b>(1)</b>
          .setOrderNumber(order.getOrderNumber()) <i class="conum" data-value="2"></i><b>(2)</b>
          .setValidation(Validation.VALIDATE_ONLY) <i class="conum" data-value="3"></i><b>(3)</b>
          .setOrderModel(OrderModel.LIMIT) <i class="conum" data-value="4"></i><b>(4)</b>
          .setLimit(<span class="integer">2</span>)
          .build();

      OrderReply changeOrderReply = <i class="conum" data-value="5"></i><b>(5)</b>
          orderServiceBlockingStub.changeOrder(changeOrderRequest);
      <span class="predefined-type">System</span>.out.println(changeOrderReply);
    }
  }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Set account number</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Set order number</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Set validation flag</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Set new limit</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Process change order</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Warning</div>
<div class="paragraph">
<p>By default <strong>validation</strong> parameter equals <strong>WITHOUT_VALIDATION</strong> and accept quote request will directly routed to the market. If you want only check a validity of the request, then you need to set <strong>validation</strong> parameter to <strong>VALIDATE_ONLY</strong>. An order will validated by the backend system, but will not be routed to the market. It&#8217;s very useful for the test goals.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="cancel-order"><a class="anchor" href="#cancel-order"></a>Cancel order</h4>
<div class="paragraph">
<p>To cancel order is necessary to have order number of existing order and an account with this order linked in. The order can be canceled if the status of the orders allowes that.</p>
</div>
<div class="listingblock">
<div class="title">Example Java: cancelOrder()</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td>
  <td class="code"><pre><span class="directive">private</span> <span class="directive">final</span> OrderServiceGrpc.OrderServiceBlockingStub orderServiceBlockingStub;

<span class="directive">private</span> <span class="type">void</span> cancelOrder(Order order, TradingAccount account) {
  <span class="keyword">if</span> (order!=<span class="predefined-constant">null</span>) {
    <span class="predefined-type">String</span> orderNumber = order.getOrderNumber();
    <span class="keyword">if</span> (orderNumber!=<span class="predefined-constant">null</span> &amp;&amp; !orderNumber.isEmpty()) {
      CancelOrderRequest cancelOrderRequest = CancelOrderRequest.newBuilder()
          .setAccessToken(accessToken)
          .setAccountNumber(account.getAccountNumber()) <i class="conum" data-value="1"></i><b>(1)</b>
          .setOrderNumber(order.getOrderNumber()) <i class="conum" data-value="2"></i><b>(2)</b>
          .setValidation(Validation.VALIDATE_ONLY) <i class="conum" data-value="3"></i><b>(3)</b>
          .build();

      OrderReply cancelOrderReply = <i class="conum" data-value="4"></i><b>(4)</b>
          orderServiceBlockingStub.cancelOrder(cancelOrderRequest);
      <span class="predefined-type">System</span>.out.println(cancelOrderReply);
    }
  }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Set account number</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Set order number</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Set validation flag</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Process change order</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Warning</div>
<div class="paragraph">
<p>By default <strong>validation</strong> parameter equals <strong>WITHOUT_VALIDATION</strong> and accept quote request will directly routed to the market. If you want only check a validity of the request, then you need to set <strong>validation</strong> parameter to <strong>VALIDATE_ONLY</strong>. An order will validated by the backend system, but will not be routed to the market. It&#8217;s very useful for the test goals.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="activate-order"><a class="anchor" href="#activate-order"></a>Activate order</h4>
<div class="paragraph">
<p>Activate order function used to activate inactive order and route an order to the market. This function available only in <mark>pro</mark> version of the ActiveTrader.</p>
</div>
<div class="listingblock">
<div class="title">Example Java: activateOrder()</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td>
  <td class="code"><pre><span class="directive">private</span> <span class="directive">final</span> OrderServiceGrpc.OrderServiceBlockingStub orderServiceBlockingStub;

<span class="directive">private</span> <span class="type">void</span> activateOrder(Order order, TradingAccount account) {
  <span class="keyword">if</span> (order!=<span class="predefined-constant">null</span>) {
    <span class="predefined-type">String</span> orderNumber = order.getOrderNumber();
    <span class="keyword">if</span> (orderNumber!=<span class="predefined-constant">null</span> &amp;&amp; !orderNumber.isEmpty()) {
      ActivateOrderRequest activateOrderRequest = ActivateOrderRequest.newBuilder()
          .setAccessToken(accessToken)
          .setAccountNumber(account.getAccountNumber()) <i class="conum" data-value="1"></i><b>(1)</b>
          .setOrderNumber(order.getOrderNumber()) <i class="conum" data-value="2"></i><b>(2)</b>
          .setValidation(Validation.VALIDATE_ONLY) <i class="conum" data-value="3"></i><b>(3)</b>
          .build();

      OrderReply changeOrderReply =  <i class="conum" data-value="4"></i><b>(4)</b>
          orderServiceBlockingStub.activateOrder(activateOrderRequest);
      <span class="predefined-type">System</span>.out.println(changeOrderReply);
    }
  }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Set account number</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Set order number</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Set validation flag</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Process activate order</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="deactivate-order"><a class="anchor" href="#deactivate-order"></a>Deactivate order</h4>
<div class="paragraph">
<p>Deactivate order function used to deactivate active order and remove an order from the market. This function available only in <mark>pro</mark> version of the ActiveTrader.</p>
</div>
<div class="listingblock">
<div class="title">Example Java: deactivateOrder()</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td>
  <td class="code"><pre><span class="directive">private</span> <span class="directive">final</span> OrderServiceGrpc.OrderServiceBlockingStub orderServiceBlockingStub;

<span class="directive">private</span> <span class="type">void</span> deactivateOrder(Order order, TradingAccount account) {
  <span class="keyword">if</span> (order!=<span class="predefined-constant">null</span>) {
    <span class="predefined-type">String</span> orderNumber = order.getOrderNumber();
    <span class="keyword">if</span> (orderNumber!=<span class="predefined-constant">null</span> &amp;&amp; !orderNumber.isEmpty()) {
      DeactivateOrderRequest deactivateOrderRequest = DeactivateOrderRequest.newBuilder()
          .setAccessToken(accessToken)
          .setAccountNumber(account.getAccountNumber()) <i class="conum" data-value="1"></i><b>(1)</b>
          .setOrderNumber(order.getOrderNumber()) <i class="conum" data-value="2"></i><b>(2)</b>
          .setValidation(Validation.VALIDATE_ONLY) <i class="conum" data-value="3"></i><b>(3)</b>
          .build();

      OrderReply changeOrderReply = <i class="conum" data-value="4"></i><b>(4)</b>
          orderServiceBlockingStub.deactivateOrder(deactivateOrderRequest);
      <span class="predefined-type">System</span>.out.println(changeOrderReply);
    }
  }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Set account number</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Set order number</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Set validation flag</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Process deactivate order</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="order-costs"><a class="anchor" href="#order-costs"></a>Order costs</h4>
<div class="sect4">
<h5 id="bafin-rules"><a class="anchor" href="#bafin-rules"></a>BaFin Rules</h5>
<div class="paragraph">
<p>The law allowes to execute orders only after requesting of the order costs with a possibility to decline order in the case if order costs are not accepted. That follows to request order cost before order execution. <strong>The order execution without requesting of the order costs is not allowed</strong>.</p>
</div>
</div>
<div class="sect4">
<h5 id="processing-of-the-order-costs"><a class="anchor" href="#processing-of-the-order-costs"></a>Processing of the order costs</h5>
<div class="paragraph">
<p>You can request an information about estimated order costs in <a href="#AddOrderRequest">AddOrderRequest</a> and <a href="#AddOrderRequest">AcceptQuoteRequest</a>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Warning</div>
<div class="paragraph">
<p><a href="#OrderCosts">OrderCost</a> contains <strong>only estimated values</strong>. The real values are depended from real execution quotes, time of the execution and other parameters.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To request cost information is need to execute orders requests with <a href="#Validation">Validation</a> values <strong>VALIDATE_WITH_TOTAL_COSTS</strong>, <strong>TOTAL_COST_ONLY</strong> or <strong>VALIDATE_WITH_DETAIL_COSTS</strong>. In first and second cases only total or aggregated costs are calculated. In second case detail information about costs is delivered. In all cases only validation of the request is happened, without real execution. To execute order you have to repeat same request with <a href="#Validation">Validation</a> <strong>WITHOUT_VALIDATION</strong> type.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Important</div>
<div class="paragraph">
<p>During prepartion phase <strong>TOTAL_COST_ONLY</strong> validation type can be replaced with <strong>VALIDATE_WITH_TOTAL_COSTS</strong> type.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>All order costs can be checked in the online archive.</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/order-costs.png" alt="order costs" width="840" height="378">
</div>
</div>
</div>
<div class="sect4">
<h5 id="error-handling"><a class="anchor" href="#error-handling"></a>Error handling</h5>
<div class="paragraph">
<p>If no costs are avialable or costs information is outdated then by the order execution will be return <strong>ORD_COSTS_ABSENT_ERR</strong> <a href="#Errors">error</a>. In such cases is necessary to repeat order costs request and order execution request.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/order-costs-repat.png" alt="order costs repat" width="840" height="406">
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Useful</div>
<div class="paragraph">
<p>To speed up order execution and save time by the order placement it&#8217;s possible to prepare and validate order with <strong>VALIDATE_WITH_TOTAL_COSTS</strong> or <strong>TOTAL_COST_ONLY</strong> flags and some time later execute the same order with <strong>WITHOUT_VALIDATION</strong> flag. The host system will recognize parameters of the order and will forward order directly to the market. Otherwise to fullfil all BaFin requirements host system will request order costs before the order execution. In the each case the information about order costs will be placed into online archive before the order execution.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Warning</div>
<div class="paragraph">
<p>This request doesn&#8217;t send order to the market, but validates only. As the result no real order is placed into the system.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example Java: getOrderCosts()</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre></td>
  <td class="code"><pre><span class="directive">private</span> <span class="directive">final</span> OrderServiceGrpc.OrderServiceBlockingStub orderServiceBlockingStub;

<span class="directive">private</span> OrderReply getOrderCosts() {
  SecurityCode securityCode = TestUtils.getSecurityCode(<span class="string"><span class="delimiter">&quot;</span><span class="content">710000</span><span class="delimiter">&quot;</span></span>, SecurityCodeType.WKN); <i class="conum" data-value="1"></i><b>(1)</b>
  StockExchange stockExchange = TestUtils.getStockExchange(<span class="string"><span class="delimiter">&quot;</span><span class="content">ETR</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">null</span>); <i class="conum" data-value="2"></i><b>(2)</b>
  SecurityWithStockExchange securityWithStockExchange =
      TestUtils.getSecurityWithStockExchange(securityCode, stockExchange); <i class="conum" data-value="3"></i><b>(3)</b>
  AddOrderRequest request = AddOrderRequest.newBuilder() <i class="conum" data-value="4"></i><b>(4)</b>
      .setAccessToken(accessToken)
      .setAccountNumber(<span class="string"><span class="delimiter">&quot;</span><span class="content">123456789</span><span class="delimiter">&quot;</span></span>) <i class="conum" data-value="5"></i><b>(5)</b>
      .setSecurityWithStockexchange(securityWithStockExchange)
      .setValidation(Validation.VALIDATE_WITH_TOTAL_COSTS) <i class="conum" data-value="6"></i><b>(6)</b>
      <span class="comment">// .setValidation(Validation.VALIDATE_WITH_DETAIL_COSTS) </span><i class="conum" data-value="7"></i><b>(7)</b>
      .setAmount(<span class="integer">1</span>)
      .setOrderModel(OrderModel.LIMIT)
      .setLimit(<span class="integer">1</span>)
      .setOrderType(OrderType.BUY)
      .setCashQuotation(CashQuotation.KASSA)
      .setValidityDate(TestUtils.getDate(<span class="predefined-type">GregorianCalendar</span>.getInstance()))
      .build();
  OrderReply addOrderReply = orderServiceBlockingStub.addOrder(request); <i class="conum" data-value="8"></i><b>(8)</b>

  OrderCosts orderCosts = addOrderReply.getOrderCosts(); <i class="conum" data-value="9"></i><b>(9)</b>
  <span class="type">double</span> estimatedTotalCosts = orderCosts.getEstimatedTotalCosts();
  <span class="keyword">for</span> (CategoryCost categoryCost : orderCosts.getCategorieCostsList()) {
    <span class="type">double</span> totalSumAbsolute = categoryCost.getTotalSumAbsolute();
    <span class="comment">//</span>
  }
  <span class="predefined-type">System</span>.err.println(addOrderReply);
  <span class="keyword">return</span> addOrderReply;
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Prepare security code</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Prepare stock exchange</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Prepare security with stock exchange</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Prepare request</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Set order parameters</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Set validation with total costs</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Alternative: Set validation with detail costs</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Process order add</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>Extract order costs</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="early-request-of-the-order-costs"><a class="anchor" href="#early-request-of-the-order-costs"></a>Early request of the order costs</h5>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Useful</div>
<div class="paragraph">
<p>It&#8217;s possible to prepare an order for the execution and keep an infomation about order costs for the future execution without additional checks. This information will be cached in the application and reused by the real order execution. No additional steps will be performed. All data about order costs will be (additionally) avialible in the online archive.</p>
</div>
<div class="paragraph">
<p>It&#8217;s important to understand that sometime costs information can be absolette. In this case an order execution will be failed with the error <strong>ORD_COSTS_NOT_REQUESTED</strong>. In such cases is need to repeat order costs request and order execution request.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example Java: addOrderWithCostsRequest()</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
</pre></td>
  <td class="code"><pre><span class="directive">private</span> <span class="directive">final</span> OrderServiceGrpc.OrderServiceBlockingStub orderServiceBlockingStub;

<span class="directive">private</span> OrderReply addOrderWithCostsRequest() {
  SecurityCode securityCode = TestUtils.getSecurityCode(<span class="string"><span class="delimiter">&quot;</span><span class="content">710000</span><span class="delimiter">&quot;</span></span>, SecurityCodeType.WKN); <i class="conum" data-value="1"></i><b>(1)</b>
  StockExchange stockExchange = TestUtils.getStockExchange(<span class="string"><span class="delimiter">&quot;</span><span class="content">ETR</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">null</span>); <i class="conum" data-value="2"></i><b>(2)</b>
  SecurityWithStockExchange securityWithStockExchange =
      TestUtils.getSecurityWithStockExchange(securityCode, stockExchange); <i class="conum" data-value="3"></i><b>(3)</b>
  Builder requestBuilder = AddOrderRequest.newBuilder() <i class="conum" data-value="4"></i><b>(4)</b>
      .setAccessToken(accessToken)
      .setAccountNumber(<span class="string"><span class="delimiter">&quot;</span><span class="content">123456789</span><span class="delimiter">&quot;</span></span>) <i class="conum" data-value="5"></i><b>(5)</b>
      .setSecurityWithStockexchange(securityWithStockExchange)
      .setAmount(<span class="integer">1</span>)
      .setOrderModel(OrderModel.LIMIT)
      .setLimit(<span class="integer">1</span>)
      .setOrderType(OrderType.BUY)
      .setCashQuotation(CashQuotation.KASSA)
      .setValidityDate(TestUtils.getDate(<span class="predefined-type">GregorianCalendar</span>.getInstance()));
  AddOrderRequest costsRequest = requestBuilder
      .setValidation(Validation.TOTAL_COSTS_ONLY) <i class="conum" data-value="6"></i><b>(6)</b>
      .build();
  OrderReply costsReply = orderServiceBlockingStub.addOrder(costsRequest); <i class="conum" data-value="7"></i><b>(7)</b>

  <span class="keyword">if</span> (costsReply.getError()!=<span class="exception">Error</span>.getDefaultInstance()) {
    <span class="predefined-type">System</span>.err.print(<span class="string"><span class="delimiter">&quot;</span><span class="content">Error: </span><span class="delimiter">&quot;</span></span>+costsReply.getError());
    <span class="keyword">return</span> costsReply;
  }

  <span class="comment">// Can be later</span>
  AddOrderRequest executionRequest = requestBuilder
      .setValidation(Validation.WITHOUT_VALIDATION) <i class="conum" data-value="8"></i><b>(8)</b>
      .build();

  OrderReply executionReply = orderServiceBlockingStub.addOrder(executionRequest); <i class="conum" data-value="9"></i><b>(9)</b>
  <span class="predefined-type">System</span>.err.println(executionReply);
  <span class="keyword">return</span> executionReply;
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Prepare security code</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Prepare stock exchange</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Prepare security with stock exchange</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Prepare request</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Set order parameters</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Set validation only with total costs</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Process costs calulation request</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Prepare real order add request (<strong>Warning real execution</strong>)</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>Process order execution</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example Java: acceptQuoteWithCostsRequest()</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
</pre></td>
  <td class="code"><pre><span class="directive">private</span> <span class="directive">final</span> OrderServiceGrpc.OrderServiceBlockingStub orderServiceBlockingStub;

<span class="directive">private</span> <span class="type">void</span> acceptQuoteWithCostsRequest() {
  SecurityCode securityCode = TestUtils.getSecurityCode(<span class="string"><span class="delimiter">&quot;</span><span class="content">710000</span><span class="delimiter">&quot;</span></span>, SecurityCodeType.WKN);
  StockExchange stockExchange = TestUtils.getStockExchange(<span class="string"><span class="delimiter">&quot;</span><span class="content">OTC</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">null</span>);
  SecurityWithStockExchange securityWithStockExchange = TestUtils.getSecurityWithStockExchange(securityCode, stockExchange);

  AcceptQuoteRequest costsRequest = AcceptQuoteRequest.newBuilder() <i class="conum" data-value="1"></i><b>(1)</b>
      .setAccessToken(accessToken)
      .setOrderType(OrderType.BUY)
      .setSecurityWithStockexchange(securityWithStockExchange)
      .setAmount(<span class="integer">10</span>)
      .setValidation(Validation.TOTAL_COSTS_ONLY) <i class="conum" data-value="2"></i><b>(2)</b>
      <span class="comment">//.setLimit(10) </span><i class="conum" data-value="3"></i><b>(3)</b>
      <span class="comment">//.setQuoteReference() </span><i class="conum" data-value="4"></i><b>(4)</b>
      .build();
  OrderReply costsReply = orderServiceBlockingStub.acceptQuote(costsRequest); <i class="conum" data-value="5"></i><b>(5)</b>

  <span class="keyword">if</span> (costsReply.getError()!=<span class="exception">Error</span>.getDefaultInstance()) {
    <span class="predefined-type">System</span>.err.print(<span class="string"><span class="delimiter">&quot;</span><span class="content">Error: </span><span class="delimiter">&quot;</span></span>+costsReply.getError());
    <span class="keyword">return</span>;
  }

  <span class="comment">// Later</span>
  QuoteRequest quoteRequest = QuoteRequest.newBuilder() <i class="conum" data-value="6"></i><b>(6)</b>
      .setAccessToken(accessToken)
      .setOrderType(OrderType.BUY)
      .setSecurityCode(securityCode)
      .setAmount(<span class="integer">10</span>)
      .addStockExchanges(stockExchange)
      .build();

  PerformanceCounter pcGetQuote = <span class="keyword">new</span> PerformanceCounter(<span class="string"><span class="delimiter">&quot;</span><span class="content">GetQuote</span><span class="delimiter">&quot;</span></span>);
  QuoteReply quoteReply = orderServiceBlockingStub.getQuote(quoteRequest); <i class="conum" data-value="7"></i><b>(7)</b>
  pcGetQuote.print();

  <span class="keyword">if</span> (quoteReply.getError()==<span class="exception">Error</span>.getDefaultInstance()) {
    QuoteEntry quoteEntry = quoteReply.getPriceEntries(<span class="integer">0</span>); <i class="conum" data-value="8"></i><b>(8)</b>
    <span class="keyword">if</span> (quoteEntry.getError()==<span class="exception">Error</span>.getDefaultInstance() &amp;&amp;
        !quoteEntry.getQuoteReference().isEmpty()) { <i class="conum" data-value="9"></i><b>(9)</b>

      AcceptQuoteRequest acceptQuoteRequest = AcceptQuoteRequest.newBuilder() <i class="conum" data-value="10"></i><b>(10)</b>
          .setAccessToken(accessToken)
          .setOrderType(OrderType.BUY)
          .setSecurityWithStockexchange(securityWithStockExchange)
          .setAmount(<span class="integer">10</span>)
          .setValidation(Validation.WITHOUT_VALIDATION) <i class="conum" data-value="11"></i><b>(11)</b>
          .setLimit(quoteEntry.getBuyPrice())
          .setQuoteReference(quoteEntry.getQuoteReference()) <i class="conum" data-value="12"></i><b>(12)</b>
          .build();
      OrderReply acceptQuote = orderServiceBlockingStub.acceptQuote(acceptQuoteRequest); <i class="conum" data-value="13"></i><b>(13)</b>
      <span class="predefined-type">System</span>.err.println(acceptQuote);
    }
  }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Prepare costs request</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Set validation only with total costs</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Limit is optional</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Quote reference can be empty</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Process costs calulation request</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Prepare quote request</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Process quote request</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Get entry for the quote</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>Check quote</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td>Prepare accept quote request</td>
</tr>
<tr>
<td><i class="conum" data-value="11"></i><b>11</b></td>
<td>Set validation (<strong>Warning real execution</strong>)</td>
</tr>
<tr>
<td><i class="conum" data-value="12"></i><b>12</b></td>
<td>Set quote reference</td>
</tr>
<tr>
<td><i class="conum" data-value="13"></i><b>13</b></td>
<td>Process order execution</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Errors"><a class="anchor" href="#Errors"></a>Errors</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Error code</th>
<th class="tableblock halign-left valign-top">Target</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ACC_NOT_TRADING_ERR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordering</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Process order with not trading account</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ACC_NOT_VALID_ERR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordering</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Process order with invalid account</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ORD_ACTIVE_ERR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordering</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inactivate order in non pro version</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ORD_AMOUNT_ERR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordering</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Orders amount is not changable for selected order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ORD_DRIPPING_QUANTITY_ERR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordering</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dripping quantity error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ORD_COSTS_ERR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordering</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order costs information unavialable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ORD_COSTS_ABSENT_ERR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordering</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order costs information is not cached.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ORD_LIMIT_ERR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordering</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limit field is invalid</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ORD_MODEL_ERR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordering</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order model is wrong</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ORD_NOT_CANCELABLE_ERR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordering</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order is not cancelable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ORD_NOT_KNOWN_ERR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordering</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order is not known by the system</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ORD_STOP_ERR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordering</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order stop is not changable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ORD_STOP_LIMIT_ERR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordering</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stop limit is not changable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ORD_TRALING_DISTANCE_ERR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordering</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Traling distance is not changable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ORD_TRALING_LIMIT_TOLERANCE_ERR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordering</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Traling limit tolerance is not changable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ORD_VALIDITY_DATE_ERR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordering</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validity date is not changable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ORD_WRONG_PRICE_TICKET_ERR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordering</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Price ticket is not correct for this accept quote</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ORD_QUOTE_ERR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordering</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quote is not valid</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ORD_VALIDATION_ERR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordering</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Selected validation can not be use for this request</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ORD_COSTS_NOT_REQUESTED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordering</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Costs are not requested before order or costs information is old</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">STK_NOT_FOUND_ERR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stocks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stock exchange is unknown</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTERNAL_ERR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Internal engine error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SYSTEM_ERR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPC error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UNSUPPORTED_OPERATION_ERR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Operation is not supported</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="objects-and-types-description"><a class="anchor" href="#objects-and-types-description"></a>Objects and types description</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="AcceptQuoteRequest"><a class="anchor" href="#AcceptQuoteRequest"></a>AcceptQuoteRequest</h3>
<div class="paragraph">
<p>Accept quote request represents information about one order that should be placed on the short term market</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">access_token</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access token</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">account_number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trading account number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">security_with_stockexchange</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#SecurityWithStockExchange">SecurityWithStockExchange</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security code with stock exchange</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">order_type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#OrderType">OrderType</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order type. It should be relevant to the requested GetQuoteRequest</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">amount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amount, It should be relevant to the requested GetQuoteRequest</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">limit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limit</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">quote_reference</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quote reference from GetQuoteRequest</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">validation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Validation">Validation</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validation flag.
If value is WITHOUT_VALIDATION then backend system sends order actions directly to the market.<br>
If value is VALIDATE_ONLY then backend system doesn&#8217;t send order actions to the market, but validate order parameters.<br>
If value is VALIDATE_WITH_TOTAL_COSTS then order will validated by backend system and request total costs for the order.<br>
If value is VALIDATE_WITH_DETAIL_COSTS then order will validated by backend system and request detail costs for the order.<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">risk_class_override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Risk class override flag. If true then allowes override user risk class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">target_market_override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Target market override flag. If true then allowes override target market</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tax_nontransparent_override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tax non trasparent override flag. If true then allowes override tax intransparesity</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">accept_additional_fees</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Accept additinal fees flag. If true then allowes accept non transparent fees</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="AccessTokenRequest"><a class="anchor" href="#AccessTokenRequest"></a>AccessTokenRequest</h3>
<div class="paragraph">
<p>Access token request contains an access token data</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">access_token</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access token</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="ActivateOrderRequest"><a class="anchor" href="#ActivateOrderRequest"></a>ActivateOrderRequest</h3>
<div class="paragraph">
<p>Activate order request represents information for activation of one inactive order <mark>pro</mark> only</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">access_token</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access token</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">account_number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trading account number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">order_number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order number for that this changes should be accepted</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">validation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Validation">Validation</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validation flag. This request allowes only <strong>WITHOUT_VALIDATION</strong>
and <strong>VALIDATE_ONLY</strong> values.<br>
If value is WITHOUT_VALIDATION then backend system sends order actions directly to the market.<br>
If value is VALIDATE_ONLY then backend system doesn&#8217;t send order actions to the market, but validate order parameters.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="OrderCosts-AggregatedCosts"><a class="anchor" href="#OrderCosts-AggregatedCosts"></a>AggregatedCosts</h3>
<div class="paragraph">
<p>Aggregated costs contain an information about estimated costs for the selected order</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">in_costs_absolute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In costs for the order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">in_costs_relative</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Percentage part of the in costs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">in_costs_currency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Currency for the in costs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">out_costs_absolute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Out costs for the order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">out_costs_relative</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Percentage part of the out costs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">out_costs_currency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Currency for the out costs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">instrument_costs_absolute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Instrument costs for the order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">instrument_costs_relative</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Percentage part of the instrument costs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">instrument_costs_currency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Currency for the instrument costs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">service_costs_absolute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service costs for the order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">service_costs_relative</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Percentage part of the service costs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">service_costs_currency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Currency for the servcie costs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">subsidy_costs_absolute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subsidy costs for the order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">subsidy_costs_relative</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Percentage part of the subsidy costs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">subsidy_costs_currency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Currency for the subsidy costs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">foreign_currency_costs_absolute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Foreign currency costs for the order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">foreign_currency_costs_relative</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Percentage part of the foreign currency costs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">foreign_currency_costs_currency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Currency for the foreign currency costs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">performance_impact_absolute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performance impact for the order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">performance_impact_relative</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Percentage part of the performance impact</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">performance_impact_currency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Currency for the performance impact</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">expected_amount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expected amount estimated for the order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">expected_amount_currency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Currency for the expected amount</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="AddOrderRequest"><a class="anchor" href="#AddOrderRequest"></a>AddOrderRequest</h3>
<div class="paragraph">
<p>Add order request represents order data for the long term markets</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">access_token</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access token</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">account_number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trading account number which used for the execution</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">security_with_stockexchange</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#SecurityWithStockExchange">SecurityWithStockExchange</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security code with stock exchange</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">order_type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#OrderType">OrderType</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order type</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">amount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amount of the securities</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">order_model</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#OrderModel">OrderModel</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order model</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">order_supplement</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#OrderSupplement">OrderSupplement</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order supplement</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cash_quotation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#CashQuotation">CashQuotation</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cach quotation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">validity_date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Date">Date</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order validity date</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">limit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limit value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stop</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stop value. This value can be used only together with StopMarket, StopLimit and OneCancelOter order models.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stop_limit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stop limit used in the StopLimit and OneCancelOther order models</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">trailing_distance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Traling distance in traling notation units or empty value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">trailing_notation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#TrailingNotation">TrailingNotation</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trailing notation for the trailing orders</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">trailing_limit_tolerance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trailing limit tolerance for the trailing orders</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dripping_quantity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dripping quantity <mark>pro</mark> only</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">position_id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Position id of the depot position.
It used only for sale certainly securities from depot</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">validation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Validation">Validation</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validation flag.
If value is WITHOUT_VALIDATION then backend system sends order actions directly to the market.<br>
If value is VALIDATE_ONLY then backend system doesn&#8217;t send order actions to the market, but validate order parameters.<br>
If value is VALIDATE_WITH_TOTAL_COSTS then order will validated by backend system and request total costs for the order.<br>
If value is VALIDATE_WITH_DETAIL_COSTS then order will validated by backend system and request detail costs for the order.<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">risk_class_override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Risk class override flag. If true then allowes override user risk class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">target_market_override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Target market override flag. If true then allowes override target market</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tax_nontransparent_override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tax non trasparent override flag. If true then allowes override tax intransparesity</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">accept_additional_fees</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Accept additinal fees flag. If true then allowes accept non transparent fees</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">closed_realestate_fond_override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Closed realestate fond override. If true then allowes sell fonds over fds</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">inactive</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inactive order flag, <mark>pro</mark> only. If true then order market as inactive and don&#8217;t routed to the marker.
To activate order please use ActivateOrder function</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="CancelOrderRequest"><a class="anchor" href="#CancelOrderRequest"></a>CancelOrderRequest</h3>
<div class="paragraph">
<p>Cancel order request represents canceling information for one order on the market or one inactive order</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">access_token</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access token</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">account_number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trading account number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">order_number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order number for that this changes should be accepted</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">validation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Validation">Validation</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validation flag. This request allowes only <strong>WITHOUT_VALIDATION</strong> value.<br>
If value is WITHOUT_VALIDATION then backend system sends order actions directly to the market.<br>
Otherwise request will fail.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="CashQuotation"><a class="anchor" href="#CashQuotation"></a>CashQuotation</h3>
<div class="paragraph">
<p>Cash quotation is additional parameter of the order</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NOTHING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quotation is not defined</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">KASSA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kassa quotation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AUCTION</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Auction quotation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPENING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Opening quotation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTRADAY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Intraday quotation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CLOSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Close quotation</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="OrderCosts-CategoryCost"><a class="anchor" href="#OrderCosts-CategoryCost"></a>CategoryCost</h3>
<div class="paragraph">
<p>Represents one category cost.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">category_id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Category id</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">category_label</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Human redable category label</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">total_sum_absolute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total absolute sum of the children values</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">total_sum_relative</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total relative sum of the children values</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">currency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Currency for absolute sum</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">detail_costs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of <a href="#OrderCosts-DetailCost">DetailCost</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of child values or detailed information.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="ChangeOrderRequest"><a class="anchor" href="#ChangeOrderRequest"></a>ChangeOrderRequest</h3>
<div class="paragraph">
<p>Change order request contains parameters for the order change.
Be careful: not all combinations are possible.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">access_token</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access token</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">account_number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trading account number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">order_number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order number for that this changes should be accepted</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">limit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">New limit, shouldn&#8217;t filled for market order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stop</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">New stop value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stop_limit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">New stop limit value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">amount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">New amount</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">validity_date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Date">Date</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">New validity date</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">order_model</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#OrderModel">OrderModel</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">New order model</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">order_supplement</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#OrderSupplement">OrderSupplement</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">New order supplement</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dripping_quantity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dripping quantity <mark>pro</mark> only</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">validation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Validation">Validation</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validation flag. This request allowes only <strong>WITHOUT_VALIDATION</strong>
and <strong>VALIDATE_ONLY</strong> values.<br>
If value is WITHOUT_VALIDATION then backend system sends order actions directly to the market.<br>
If value is VALIDATE_ONLY then backend system doesn&#8217;t send order actions to the market, but validate order parameters.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">trailing_distance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">New trailing distance</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">trailing_limit_tolerance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">New traling limit tolerance</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="CurrencyRateReply"><a class="anchor" href="#CurrencyRateReply"></a>CurrencyRateReply</h3>
<div class="paragraph">
<p>Returns currency rate</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">currency_from</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Source currency</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">currency_to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Target currency</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">currency_rate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Currency rate</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Error">Error</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error information if occuirs</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="CurrencyRateRequest"><a class="anchor" href="#CurrencyRateRequest"></a>CurrencyRateRequest</h3>
<div class="paragraph">
<p>CurrencyRateRequest used for the determination of the currency rate from one currency rate to second  currency.
Results depends from user market data aboniment and can be realtime or delayed.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">access_token</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access token</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">currency_from</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Source currency</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">currency_to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Target currency</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="Date"><a class="anchor" href="#Date"></a>Date</h3>
<div class="paragraph">
<p>Represents a whole calendar date, e.g. date of birth. The time of day and
time zone are either specified elsewhere or are not significant. The date
is relative to the Proleptic Gregorian Calendar. The day may be 0 to
represent a year and month where the day is not significant, e.g. credit card
expiration date. The year may be 0 to represent a month and day independent
of year, e.g. anniversary date. Related types are [google.type.TimeOfDay][google.type.TimeOfDay]
and <code>google.protobuf.Timestamp</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">year</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Year of date. Must be from 1 to 9999, or 0 if specifying a date without
a year.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">month</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Month of year. Must be from 1 to 12.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">day</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Day of month. Must be from 1 to 31 and valid for the year and month, or 0
if specifying a year/month where the day is not significant.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="DeactivateOrderRequest"><a class="anchor" href="#DeactivateOrderRequest"></a>DeactivateOrderRequest</h3>
<div class="paragraph">
<p>Deactivate order request represents information for deactivation of one active order <mark>pro</mark> only</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">access_token</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access token</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">account_number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trading account number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">order_number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order number for that this changes should be accepted</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">validation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Validation">Validation</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validation flag. This request allowes only <strong>WITHOUT_VALIDATION</strong>
and <strong>VALIDATE_ONLY</strong> values.
If value is WITHOUT_VALIDATION then backend system sends order actions directly to the market.
If value is VALIDATE_ONLY then backend system doesn&#8217;t send order actions to the market, but validate order parameters</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="DepotEntries"><a class="anchor" href="#DepotEntries"></a>DepotEntries</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">account</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#TradingAccount">TradingAccount</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trading account</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">entries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of <a href="#DepotEntry">DepotEntry</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Depot entries list</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Error">Error</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error information if occuirs</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="DepotEntry"><a class="anchor" href="#DepotEntry"></a>DepotEntry</h3>
<div class="paragraph">
<p>Depot entry contains information about one security in the depot.
This entry combines data from one or more depot positions</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">security_code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#SecurityCode">SecurityCode</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">positions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of <a href="#DepotPosition">DepotPosition</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of linked depot positions. This list contains at least one element</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">effective_amount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Effective amount</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">scheduled_amount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scheduled amount</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">total_amount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total amount of the securities</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sell_possible</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True if sell possible for this entry or false otherwise. This value
can be true only if all child positions have sell_possible = true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">unit_note</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#UnitNote">UnitNote</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unit note</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">blocked</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True if entry is blocked or false otherwise</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">purchase_quotation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Purchase quotation or NaN if not defined</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">purchase_currency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Purchase currency or empty value if not defined</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">purchase_currency_rate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Purchase currency rate or NaN if not defined</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">open_sales</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open sales</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="DepotPosition"><a class="anchor" href="#DepotPosition"></a>DepotPosition</h3>
<div class="paragraph">
<p>Depot posiotion contains information about
one position in the depot</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">amount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ammount of the securities</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">position_id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Position identification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sell_possible</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True if sell of the position is possible or false otherwise</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">unit_note</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#UnitNote">UnitNote</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unit note</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">blocked</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True if entry is blocked or false otherwise</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">purchase_quotation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Purchase quotation or NaN if not defined.
Currently this field ALWAYS undefined, reserved for future use</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">purchase_currency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Purchase currency or empty value if not defined</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">purchase_currency_rate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Purchase currency rate or NaN if not defined</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="OrderCosts-DetailCost"><a class="anchor" href="#OrderCosts-DetailCost"></a>DetailCost</h3>
<div class="paragraph">
<p>Detail cost contains one entry for the selected
category</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">detail_id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Detail id</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">detail_label</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Human redable detail label</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value_absolute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Absolute value for this entry</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value_relative</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Relative value for this entry</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">currency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Currency for this entry</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">detail_type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specific entry type</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="Empty"><a class="anchor" href="#Empty"></a>Empty</h3>
<div class="paragraph">
<p>Empty represents absent parameter or result</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
</table>
</div>
<div class="sect2">
<h3 id="Error"><a class="anchor" href="#Error"></a>Error</h3>
<div class="paragraph">
<p>Error object</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error message</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="SecurityStockExchangeInfo-LimitToken"><a class="anchor" href="#SecurityStockExchangeInfo-LimitToken"></a>LimitToken</h3>
<div class="paragraph">
<p>Limit token represents a possibility to trade on the
short term markets (AcceptQuote) and long term markets (AddOrder)</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LIMIT_AND_QUOTE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AcceptQuote and AddOrder possible</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">QUOTE_ONLY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AcceptQuote only possible</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LIMIT_ONLY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AddOrder only possible</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="LoginReply"><a class="anchor" href="#LoginReply"></a>LoginReply</h3>
<div class="paragraph">
<p>Login reply provides information that need for the access to the TAPI</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">access_token</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access token is used in each request by the access to the TAPI.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Error">Error</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error information if occuirs</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="LoginRequest"><a class="anchor" href="#LoginRequest"></a>LoginRequest</h3>
<div class="paragraph">
<p>Login request provides data for initial access to the TAPI</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">secret</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Secret is user defined access string.
It&#8217;s not possible to restore this secret directly. See double MD5 hash logic + salt</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="LogoutReply"><a class="anchor" href="#LogoutReply"></a>LogoutReply</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Error">Error</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error information if occuirs</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="LogoutRequest"><a class="anchor" href="#LogoutRequest"></a>LogoutRequest</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">access_token</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access token to invalidate.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="Order"><a class="anchor" href="#Order"></a>Order</h3>
<div class="paragraph">
<p>Order represent one order object</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">security_with_stockexchange</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#SecurityWithStockExchange">SecurityWithStockExchange</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security with stock echange</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">order_type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#OrderType">OrderType</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order type</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">order_number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">amount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amount of the securities</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">order_model</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#OrderModel">OrderModel</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order model</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">order_supplement</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#OrderSupplement">OrderSupplement</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order supplement</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cash_quotation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#CashQuotation">CashQuotation</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cache quotation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">executed_amount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Executed amount</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">order_status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#OrderStatus">OrderStatus</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order status</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">status_timestamp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Timestamp">Timestamp</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date and time of the order status</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">validity_date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Date">Date</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validity date of the order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">limit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limit value. Used as the order limit for all Limit order model with exception of the
StopLimit order model. For this order model please use stop limit field.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stop</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stop value. This value can be used only together with StopMarket, StopLimit and OneCancelOter order models.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stop_limit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stop limit value
Can be used only tigether with the StopLimit order model.
The meaning of the value is limit of the order after stop.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">trailing_distance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Traling distance in traling notation units or empty value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">trailing_notation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#TrailingNotation">TrailingNotation</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trailing notation for the trailing orders</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">trailing_limit_tolerance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trailing limit tolerance for the trailing orders</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dripping_quantity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dripping quantity <mark>pro</mark> only</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">trading_partner_name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trading partner name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">execution_quote</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Execution quote for the executed amount</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">unique_id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique id of the order. Used for the order matching.
In the <mark>pro</mark> version of the ActiveTrader order_number can be changed after activation / deactivation.
All order activities need actual or delivered form the system order_number.
Typical scenario is to map and update unique id to the order number delivered from the API.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="SecurityOrderBookReply-OrderBookEntry"><a class="anchor" href="#SecurityOrderBookReply-OrderBookEntry"></a>OrderBookEntry</h3>
<div class="paragraph">
<p>Orderbook entry contains data about one level of the order book.
This is bid price, ask price, bid volume, ask volume. Entries with lower index have lower ask and higer bid prices.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bid_price</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bid price</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ask_price</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ask price</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bid_volume</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bid volume</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ask_volume</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ask volume</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="OrderCosts"><a class="anchor" href="#OrderCosts"></a>OrderCosts</h3>
<div class="paragraph">
<p>Order costs represents information about order action estimated costs.
This information is only <strong>estimated values</strong> and is depended from real execution quotes, time, etc.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">estimated_total_costs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Estimated total cost for order action</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cost_id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference backend cost id</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">categorie_costs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of <a href="#OrderCosts-CategoryCost">CategoryCost</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of the cost categories.  Filled only by validation request with detailed information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aggregated_costs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#OrderCosts-AggregatedCosts">AggregatedCosts</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aggregated costs for the order.  Filled only by validation request with validation information.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="OrderModel"><a class="anchor" href="#OrderModel"></a>OrderModel</h3>
<div class="paragraph">
<p>Order model represents possible orders</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NO_ORDER_MODEL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order model absent</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MARKET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Market order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LIMIT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limit order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">STOP_MARKET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stop market order.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">STOP_LIMIT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stop limit order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ONE_CANCELS_OTHER_MARKET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">One cancels other market order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ONE_CANCELS_OTHER_LIMIT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">One cancels other limit order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRAILING_STOP_MARKET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trailing stop market order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRAILING_STOP_LIMIT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trailing stop limit order</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="OrderReply"><a class="anchor" href="#OrderReply"></a>OrderReply</h3>
<div class="paragraph">
<p>Order reply represents result of the add order or accept quote requests</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">account</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#TradingAccount">TradingAccount</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trading account</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">order</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Order">Order</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">order_costs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#OrderCosts">OrderCosts</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order costs. This field contains data if order costs are requested</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Error">Error</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error information if occuirs</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="Orders"><a class="anchor" href="#Orders"></a>Orders</h3>
<div class="paragraph">
<p>Orders represent pushed information about orders from one trading accounts</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">account</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#TradingAccount">TradingAccount</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trading account</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">orders</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of <a href="#Order">Order</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of the orders</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Error">Error</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error information if occuirs</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="OrderStatus"><a class="anchor" href="#OrderStatus"></a>OrderStatus</h3>
<div class="paragraph">
<p>Order status represents status of the order</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NO_ORDER_STATUS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Status is not defined</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NEW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">New order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPEN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EXECUTED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fully executed order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PARTIALLY_EXECUTED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Partially executed order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CANCELED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Canceled order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CANCELED_FORCED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Canceled forced order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CANCELED_NOTED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Canceling noted order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CANCELED_TIMEOUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Canceling timeout order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CHANGED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Changed order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CHANGED_NOTED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Changing noted order</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INACTIVE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inactive order <mark>pro</mark> only</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INACTIVE_NOTED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inactivation noted order <mark>pro</mark> only</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">STORNO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Storno order</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="OrderSupplement"><a class="anchor" href="#OrderSupplement"></a>OrderSupplement</h3>
<div class="paragraph">
<p>Order supplement is additional parameter by order definition</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NORMAL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Normal order supplement</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IMMIDIATE_OR_CANCEL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Immidiate or cancel order supplement</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FILL_OR_KILL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fill or kill order supplement</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ICEBERG</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Icesberg order supplement. Allowes to delivery amount in portions. <mark>pro</mark> only</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MARKET_PRICE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Market place order supplement</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="OrderType"><a class="anchor" href="#OrderType"></a>OrderType</h3>
<div class="paragraph">
<p>Order type represents different buy / sell order possibilities</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NO_ORDER_TYPE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order type is not defined</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BUY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Buy order type</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SELL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sell order type</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SHORT_SELL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Short sell order type</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SHORT_COVER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Short cover order type. This type is not allowed as input parameter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FORCED_COVER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rorced cover order type. This type is not allowed as input parameter</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="PriceEntry"><a class="anchor" href="#PriceEntry"></a>PriceEntry</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">open_price</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open price</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">close_price</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Close price</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">high_price</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High price</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">low_price</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Low price</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">volume</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Volume, can not be filled</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">open_time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Timestamp">Timestamp</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">close_time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Timestamp">Timestamp</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Close time</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="QuoteEntry"><a class="anchor" href="#QuoteEntry"></a>QuoteEntry</h3>
<div class="paragraph">
<p>Quote entry represents one answer with quote information from one stock exchange
This reply contains both buy and sell price. The quote reference can be used only with requested order type.
 Second value is present only for information goals.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>order type: BUY -&gt;  quote reference for buy price and reference,
                    sell price and reference are informative only
order type: SELL -&gt; quote reference for sell price and reference,
                    buy price and reference are informative only</pre>
</div>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stock_exchange</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#StockExchange">StockExchange</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stock exchange where infomation was requested</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">buy_price</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Buy price</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">buy_volume</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Buy volume</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sell_price</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sell price</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sell_volume</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sell volume</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">last_price</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Last price</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">last_volume</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Last volume</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">last_time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Timestamp">Timestamp</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date and time of the last price</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">currency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Currency</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">quote_reference</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quote reference. Used for the accept quite request. Can be empty if accept quote is not possible.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">order_type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#OrderType">OrderType</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used by call order type</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Error">Error</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error information if occuirs</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="QuoteReply"><a class="anchor" href="#QuoteReply"></a>QuoteReply</h3>
<div class="paragraph">
<p>Quote reply represents data with quote answers from requested markets</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">security_code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#SecurityCode">SecurityCode</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">order_type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#OrderType">OrderType</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order type</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">price_entries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of <a href="#QuoteEntry">QuoteEntry</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of the quites</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Error">Error</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error information if occuirs</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="QuoteRequest"><a class="anchor" href="#QuoteRequest"></a>QuoteRequest</h3>
<div class="paragraph">
<p>Quote request represents data to get information about actual quotes on the selected makets</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">access_token</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access token</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">security_code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#SecurityCode">SecurityCode</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">order_type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#OrderType">OrderType</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order type. Only BUY or SELL are allowed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">amount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amount of securities. Relevant to the short term markets</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stock_exchanges</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of <a href="#StockExchange">StockExchange</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of stock exchanges</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="SecurityMarketDataReply-SecurityChangedField"><a class="anchor" href="#SecurityMarketDataReply-SecurityChangedField"></a>SecurityChangedField</h3>
<div class="paragraph">
<p>SecurityChangedField represents information about changed fields during marked data event.
Not all field can be initialized. There are only changed fields. Some fields can be changed, but have undefined state
for example NaN.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LAST_PRICE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Price of the last trade</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LAST_VOLUME</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Volume last trade</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LAST_DATE_TIME</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Last quote date and time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TODAY_NUM_TRADES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Today number of tradings</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TODAY_VOLUME</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Today volume</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ASK_PRICE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Last ask price</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ASK_VOLUME</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Volume last ask</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ASK_TIME</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time of the last ask</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BID_PRICE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Last bid price</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BID_VOLUME</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Volume last bid</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BID_TIME</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time of the last bid</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PREVIOUS_PRICE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quote of the previous trading day</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PREVIOUS_DATE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date of the previous trading day</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RELATIVE_DIFF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Relative difference to the previous day</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ABS_DIFF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Absolute difference to the previous day</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HIGH_PRICE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Highest price</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LOW_PRICE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowest price</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPEN_PRICE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Price at opening</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WEEK_HIGH_PRICE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Highest price of the previous week</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DATE_WEEK_HIGH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date of highest price of the previous week</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WEEK_LOW_PRICE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowest price of the previous week</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DATE_WEEK_LOW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date of lowest price of the previous week</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MONTH_HIGH_PRICE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Highest price of the previous month</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DATE_MONTH_HIGH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date of highest price of the previous month</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MONTH_LOW_PRICE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowest price of the previous month</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DATE_MONTH_LOW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date of lowest price of the previous month</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">YEAR_HIGH_PRICE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Highest price of the current year</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DATE_YEAR_HIGH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date of the highest price of the current year</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">YEAR_LOW_PRICE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowest price of the current year</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DATE_YEAR_LOW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date of the lowest price of the current year</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LAST_ADDENDUM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Addendum of the last price.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRADING_PHASE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trading phase</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INDICATIVE_PRICE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicative price</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PREVALENCE_VOLUME</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trading volume corresponding to the last price</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="SecurityClass"><a class="anchor" href="#SecurityClass"></a>SecurityClass</h3>
<div class="paragraph">
<p>Represents information about security class</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NO_SECURITY_CLASS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security class is undefined on unknown</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">STOCK</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stock security class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BOND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bond security class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CERTIFICATE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Certificate security class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PRECIOUS_METAL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Precious metal security class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PARTICIPATION_CERTIFICATE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Participation certificate security class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FUNDS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Funds security class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MUTUAL_FUNDS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mutual funds security class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARRANT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Warrants security class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FUTURE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Futures security class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INDEX</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indexies security class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTHERS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Other securities security class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FUTURE_C1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Future c1 security class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FUTURE_C2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Future c2 security class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FUTURE_C3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Future c3 security class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRACKERS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trackers security class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CURRENCY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Currency security class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">COMMODITY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commodity security class</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="SecurityCode"><a class="anchor" href="#SecurityCode"></a>SecurityCode</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">code_type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#SecurityCodeType">SecurityCodeType</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security code type (WKN, ISIN, etc)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="SecurityCodeType"><a class="anchor" href="#SecurityCodeType"></a>SecurityCodeType</h3>
<div class="paragraph">
<p>Represents information about security code type
Some of the types are refer to the market data provider (FactSet)</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NO_CODE_TYPE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unknown code type</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WKN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WKN code type</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISIN code type</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID_NOTATION</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Factset id notation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID_OSI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Factset id osi</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID_INSTRUMENT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Factset id instrument</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MNEMONIC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mnemonic or symbol</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MNEMONIC_US</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">US Mnemonic or symbol</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="SecurityInfoReply"><a class="anchor" href="#SecurityInfoReply"></a>SecurityInfoReply</h3>
<div class="paragraph">
<p>Returns security information</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">security_class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#SecurityClass">SecurityClass</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">security_codes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of <a href="#SecurityCode">SecurityCode</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security codes with security type (WKN, ISIN, etc)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stock_exchange_infos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of <a href="#SecurityStockExchangeInfo">SecurityStockExchangeInfo</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stockexchange info (stock exchange, name)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">unit_note</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#UnitNote">UnitNote</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unit note</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Error">Error</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error information if occuirs</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="SecurityInfoRequest"><a class="anchor" href="#SecurityInfoRequest"></a>SecurityInfoRequest</h3>
<div class="paragraph">
<p>Requests security information for security code</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">access_token</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access token</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">security_code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#SecurityCode">SecurityCode</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security code with security type (WKN, ISIN)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="SecurityMarketDataReply"><a class="anchor" href="#SecurityMarketDataReply"></a>SecurityMarketDataReply</h3>
<div class="paragraph">
<p>Returns market data information</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">security_with_stockexchange</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#SecurityWithStockExchange">SecurityWithStockExchange</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security with stockExchange object (security code, stock exchange)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">changed_fields</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of <a href="#SecurityMarketDataReply-SecurityChangedField">SecurityChangedField</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security fields, which were changed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">currency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Currency</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">last_price</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fields
Price of the last trade</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">last_volume</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Volume last trade</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">last_date_time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Timestamp">Timestamp</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Last quote date and time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">today_num_trades</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Today number of tradings</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">today_volume</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Today volume</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ask_price</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Last ask price</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ask_volume</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Volume last ask</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ask_time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Timestamp">Timestamp</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time of the last ask</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bid_price</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Last bid price</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bid_volume</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Volume last bid</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bid_time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Timestamp">Timestamp</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time of the last bid</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">previous_price</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quote of the previous trading day</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">previous_date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Date">Date</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date of the previous trading day</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">relative_diff</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Relative difference to the previous day</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">abs_diff</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Absolute difference to the previous day</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">high_price</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Highest price</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">low_price</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowest price</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">open_price</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Price at opening</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">week_high_price</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Highest price of the previous week</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">date_week_high</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Date">Date</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date of highest price of the previous week</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">week_low_price</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowest price of the previous week</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">date_week_low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Date">Date</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date of lowest price of the previous week</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">month_high_price</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Highest price of the previous month</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">date_month_high</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Date">Date</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date of highest price of the previous month</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">month_low_price</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowest price of the previous month</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">date_month_low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Date">Date</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date of lowest price of the previous month</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">year_high_price</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Highest price of the current year</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">date_year_high</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Date">Date</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date of the highest price of the current year</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">year_low_price</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowest price of the current year</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">date_year_low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Date">Date</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date of the lowest price of the current year</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">last_addendum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Addendum of the last price.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">trading_phase</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#TradingPhase">TradingPhase</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trading phase</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">indicative_price</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicative price</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">prevalence_volume</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trading volume corresponding to the last price</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Error">Error</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error information if occuirs</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="SecurityMarketDataRequest"><a class="anchor" href="#SecurityMarketDataRequest"></a>SecurityMarketDataRequest</h3>
<div class="paragraph">
<p>Requests market data values for defined security with stockexchange</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">access_token</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access token</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">security_with_stockexchange</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#SecurityWithStockExchange">SecurityWithStockExchange</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security with stockExchange object (security code, stock exchange)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">currency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Currency</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="SecurityOrderBookReply"><a class="anchor" href="#SecurityOrderBookReply"></a>SecurityOrderBookReply</h3>
<div class="paragraph">
<p>SecurityOrderBookReply represents information with orderbook market data.
Currently this information is avialable for the Xetra stock exchange for the accepted
for the second level market data instruments</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">security_with_stockexchange</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#SecurityWithStockExchange">SecurityWithStockExchange</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security with stock exchange object (security code, stock exchange)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">currency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Currency of the order book entries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">order_book_entries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of <a href="#SecurityOrderBookReply-OrderBookEntry">OrderBookEntry</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of the order book entries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Error">Error</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error information if occuirs</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="SecurityOrderBookRequest"><a class="anchor" href="#SecurityOrderBookRequest"></a>SecurityOrderBookRequest</h3>
<div class="paragraph">
<p>Requests orderbook data for security with stockexchange</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">access_token</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access token</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">security_with_stockexchange</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#SecurityWithStockExchange">SecurityWithStockExchange</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security with stockExchange object (security code, stock exchange)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">currency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Requested currency. If not filled used default currency.
Otherwise values will be converted to requested currency.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="SecurityPriceHistoryReply"><a class="anchor" href="#SecurityPriceHistoryReply"></a>SecurityPriceHistoryReply</h3>
<div class="paragraph">
<p>Returns history data for defined security</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">security_with_stockexchange</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#SecurityWithStockExchange">SecurityWithStockExchange</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security with stockExchange object (security code, stock exchange)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">currency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Currency</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">price_entries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of <a href="#PriceEntry">PriceEntry</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of the price entries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Error">Error</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error information if occuirs</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="SecurityPriceHistoryRequest"><a class="anchor" href="#SecurityPriceHistoryRequest"></a>SecurityPriceHistoryRequest</h3>
<div class="paragraph">
<p>Requests history data for one security on one stockexchange in intraday or historical format</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">access_token</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access token</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">security_with_stockexchange</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#SecurityWithStockExchange">SecurityWithStockExchange</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security with stockExchange object (security code, stock exchange)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">days</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amount of the day in the past. This value should be positive.
Maximal value for the intraday resolution is 15.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">time_resolution</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#TimeResolution">TimeResolution</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time resolution for the data</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="SecurityStockExchangeInfo"><a class="anchor" href="#SecurityStockExchangeInfo"></a>SecurityStockExchangeInfo</h3>
<div class="paragraph">
<p>Security stock exchange info represents trading information
about one security on the one market</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stock_exchange</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#StockExchange">StockExchange</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stockexchange (id und issuer)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">buy_limit_token</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#SecurityStockExchangeInfo-LimitToken">LimitToken</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Possible limit token for buy orders</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sell_limit_token</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#SecurityStockExchangeInfo-LimitToken">LimitToken</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Possible limit token for sell orders</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">buy_trading_types</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of <a href="#TradingPossibility">TradingPossibility</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Buy trading data (order models, order supplements, trailing notations)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sell_trading_types</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of <a href="#TradingPossibility">TradingPossibility</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sell trading data (order models, order supplements, trailing notations)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">maximal_order_date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Date">Date</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximal order validity date</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">short_mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#SecurityStockExchangeInfo-ShortMode">ShortMode</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Short selling mode</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="SecurityWithStockExchange"><a class="anchor" href="#SecurityWithStockExchange"></a>SecurityWithStockExchange</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">security_code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#SecurityCode">SecurityCode</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security code object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stock_exchange</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#StockExchange">StockExchange</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stock exchange object</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 6. AccessService</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#LoginReply">LoginReply</a> = Login(<a href="#LoginRequest">LoginRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validates client by the TAPI and gets access data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#LogoutReply">LogoutReply</a> = Logout(<a href="#LogoutRequest">LogoutRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Invalidates client by the TAPI and gets logout result</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 7. AccountService</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#TradingAccounts">TradingAccounts</a> = GetTradingAccounts(<a href="#AccessTokenRequest">AccessTokenRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gets trading accounts</p>
<p class="tableblock"><strong>@return</strong> TradingAccounts
      List of trading accounts</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#TradingAccountInformation">TradingAccountInformation</a> &#8656; StreamTradingAccount(<a href="#TradingAccountRequest">TradingAccountRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subscribes one trading account for updates</p>
<p class="tableblock"><strong>@param</strong> TradingAccount
     Trading account for push</p>
<p class="tableblock"><strong>@stream</strong> TradingAccountInformation
     Specific information for subscribed account (balance, kredit line, etc.)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#TradingAccountTransactions">TradingAccountTransactions</a> &#8656; StreamTradingAccountTransactions(<a href="#TradingAccountRequest">TradingAccountRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subscribes one trading account for the transactions updates</p>
<p class="tableblock"><strong>@param</strong> TradingAccount
     Trading account for push</p>
<p class="tableblock"><strong>@stream</strong> TradingAccountInformation
     Transactions list for subscribed account</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 8. DepotService</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#DepotEntries">DepotEntries</a> &#8656; StreamDepot(<a href="#TradingAccountRequest">TradingAccountRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subscribes one trading account for the depot data updates</p>
<p class="tableblock"><strong>@param</strong> TradingAccount
     Trading account for push</p>
<p class="tableblock"><strong>@stream</strong> DepotEntries depot entries linked to the account</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Empty">Empty</a> = UpdateDepot(<a href="#TradingAccountRequest">TradingAccountRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initiates depot update action. All changes come by the
StreamDepot subscription. This function doesn&#8217;t wait for the action result.</p>
<p class="tableblock"><strong>@param</strong> TradingAccount
     Trading account for update</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 9. OrderService</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Orders">Orders</a> &#8656; StreamOrders(<a href="#TradingAccountRequest">TradingAccountRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subscribes one trading account for orders updates</p>
<p class="tableblock"><strong>@param</strong> TradingAccount
     Trading account for push</p>
<p class="tableblock"><strong>@stream</strong> Orders
     Orders list for seleted account</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Empty">Empty</a> = UpdateOrders(<a href="#TradingAccountRequest">TradingAccountRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initiates orders update action. All changes come by the
StreamOrders subscription. This function doesn&#8217;t wait for the action result.</p>
<p class="tableblock"><strong>@param</strong> TradingAccount
     Trading account for update</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#QuoteReply">QuoteReply</a> = GetQuote(<a href="#QuoteRequest">QuoteRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request market quote for the selected security on the selected stock exchanges.</p>
<p class="tableblock"><strong>@param</strong> QuoteRequest
   quote request with interested security and stock exchanges</p>
<p class="tableblock"><strong>@return</strong> QuoteReply
   quote reply with quotes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#OrderReply">OrderReply</a> = AcceptQuote(<a href="#AcceptQuoteRequest">AcceptQuoteRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sends accept quote order request to the short term market</p>
<p class="tableblock"><strong>@param</strong> AcceptQuoteRequest
    accept quote request with order parameters</p>
<p class="tableblock"><strong>@return</strong> OrderReply
    result order or error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#OrderReply">OrderReply</a> = AddOrder(<a href="#AddOrderRequest">AddOrderRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sends long term order to the market</p>
<p class="tableblock"><strong>@param</strong> AddOrderRequest
    order request with order parameters</p>
<p class="tableblock"><strong>@return</strong> OrderReply
    result order or error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#OrderReply">OrderReply</a> = ChangeOrder(<a href="#ChangeOrderRequest">ChangeOrderRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sends order change request to the market</p>
<p class="tableblock"><strong>@param</strong> ChangeOrderRequest
    changed order request with order parameters</p>
<p class="tableblock"><strong>@return</strong> OrderReply
    result order or error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#OrderReply">OrderReply</a> = CancelOrder(<a href="#CancelOrderRequest">CancelOrderRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sends order cancel request to the market</p>
<p class="tableblock"><strong>@param</strong> CancelOrderRequest
    cancel order request with order reference</p>
<p class="tableblock"><strong>@return</strong> OrderReply
    result order or error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#OrderReply">OrderReply</a> = ActivateOrder(<a href="#ActivateOrderRequest">ActivateOrderRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sends order activate request to the market. <mark>pro</mark> only</p>
<p class="tableblock"><strong>@param</strong> ActivateOrderRequest
    activate order request with order parameters</p>
<p class="tableblock"><strong>@return</strong> OrderReply
    result order or error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#OrderReply">OrderReply</a> = DeactivateOrder(<a href="#DeactivateOrderRequest">DeactivateOrderRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sends order deactivate request to the market. <mark>pro</mark> only</p>
<p class="tableblock"><strong>@param</strong> DeactivateOrderRequest
    deactivate order request with order parameters</p>
<p class="tableblock"><strong>@return</strong> OrderReply
    result order or error</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 10. SecurityService</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#SecurityInfoReply">SecurityInfoReply</a> = GetSecurityInfo(<a href="#SecurityInfoRequest">SecurityInfoRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gets security information about security</p>
<p class="tableblock"><strong>@param</strong> SecurityInfoRequest
  Request object with interested security</p>
<p class="tableblock"><strong>@return</strong> SecurityInfoReply
  Complete information about security</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#SecurityMarketDataReply">SecurityMarketDataReply</a> &#8656; StreamMarketData(<a href="#SecurityMarketDataRequest">SecurityMarketDataRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subscribes security with stock exchange for market data updates</p>
<p class="tableblock"><strong>@param</strong> SecurityMarketDataRequest
     Market data request with interested security and stock exchange</p>
<p class="tableblock"><strong>@stream</strong> SecurityMarketDataReply
     Reply with all market data values</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#SecurityOrderBookReply">SecurityOrderBookReply</a> &#8656; StreamOrderBook(<a href="#SecurityOrderBookRequest">SecurityOrderBookRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subscribes security with stock exchange for orderbook updates</p>
<p class="tableblock"><strong>@param</strong> SecurityOrderBookRequest
     Orderbook data request with interested security and stock exchange</p>
<p class="tableblock"><strong>@stream</strong> SecurityOrderBookReply
     Reply with all orderbook values</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#CurrencyRateReply">CurrencyRateReply</a> &#8656; StreamCurrencyRate(<a href="#CurrencyRateRequest">CurrencyRateRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subscribes for currency rate from one currency to another currency.</p>
<p class="tableblock"><strong>@param</strong> SecurityOrderBookRequest
     currency rate request with interested currencies from/to</p>
<p class="tableblock"><strong>@stream</strong> CurrencyRateReply
     reply with currency rate</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#SecurityPriceHistoryReply">SecurityPriceHistoryReply</a> = GetSecurityPriceHistory(<a href="#SecurityPriceHistoryRequest">SecurityPriceHistoryRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Requests history data for one security on one stockexchange in intraday or historical format</p>
<p class="tableblock"><strong>@param</strong> SecurityPriceHistoryRequest
   Data with security, stockexchange, how many days and resolution</p>
<p class="tableblock"><strong>@return</strong> SecurityPriceHistoryReply
   List of the historical quotes or an error</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 11. StockExchangeService</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#StockExchangeDescriptions">StockExchangeDescriptions</a> = GetStockExchanges(<a href="#AccessTokenRequest">AccessTokenRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gets predefined stockexchages</p>
<p class="tableblock"><strong>@return</strong> StockExchangeDescriptions
   list of stock exchange informations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#StockExchangeDescription">StockExchangeDescription</a> = GetStockExchange(<a href="#StockExchangeRequest">StockExchangeRequest</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gets specific stock exchange</p>
<p class="tableblock"><strong>@param</strong> StockExchange
   Requested stock exchange</p>
<p class="tableblock"><strong>@return</strong> StockExchangeDescription
   Stock exchange information</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="SecurityStockExchangeInfo-ShortMode"><a class="anchor" href="#SecurityStockExchangeInfo-ShortMode"></a>ShortMode</h3>
<div class="paragraph">
<p>Short mode gives information amout security shortability
on the selected market.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NO_SHORT_MODE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Undefined short selling</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Short selling is possible</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No short selling</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEMPORARY_NO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Temporary no short selling</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTRADAY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Intraday short selling</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OVERNIGHT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Overnight short selling</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTRADAY_AND_OVERNIGHT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Intraday and Overnight short selling</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="StockExchange"><a class="anchor" href="#StockExchange"></a>StockExchange</h3>
<div class="paragraph">
<p>Stock exchange data</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stock exchange id</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">issuer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stock exchange issuer. Can be null</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="StockExchangeDescription"><a class="anchor" href="#StockExchangeDescription"></a>StockExchangeDescription</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stock_exchange_info</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#StockExchangeInfo">StockExchangeInfo</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stock exchange information</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Error">Error</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error information if occuirs</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="StockExchangeDescriptions"><a class="anchor" href="#StockExchangeDescriptions"></a>StockExchangeDescriptions</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stock_exchange_infos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of <a href="#StockExchangeInfo">StockExchangeInfo</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List with stock exchange information</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Error">Error</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="StockExchangeInfo"><a class="anchor" href="#StockExchangeInfo"></a>StockExchangeInfo</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stockExchange</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#StockExchange">StockExchange</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stock exchange object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stock exchange name</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="StockExchangeRequest"><a class="anchor" href="#StockExchangeRequest"></a>StockExchangeRequest</h3>
<div class="paragraph">
<p>Stock exchange request contains data that need to request stock exchange
related data</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">access_token</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access token</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stock_exchange</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#StockExchange">StockExchange</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stock exchange</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="TimeResolution"><a class="anchor" href="#TimeResolution"></a>TimeResolution</h3>
<div class="paragraph">
<p>Time resolution represents information about price aggregation</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NO_RESOLUTION</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Undefined resolution</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TICK</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tick resolution. <strong>intraday</strong>.</p>
<p class="tableblock">Be careful, in same cases there is a lot of data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SECOND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Second resolution <strong>intraday</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MINUTE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minute resolution <strong>intraday</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HOUR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hour resolution <strong>intraday</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Day resolution <strong>historic</strong></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="Timestamp"><a class="anchor" href="#Timestamp"></a>Timestamp</h3>
<div class="paragraph">
<p>A Timestamp represents a point in time independent of any time zone
or calendar, represented as seconds and fractions of seconds at
nanosecond resolution in UTC Epoch time. It is encoded using the
Proleptic Gregorian Calendar which extends the Gregorian calendar
backwards to year one. It is encoded assuming all minutes are 60
seconds long, i.e. leap seconds are "smeared" so that no leap second
table is needed for interpretation. Range is from
0001-01-01T00:00:00Z to 9999-12-31T23:59:59.999999999Z.
By restricting to that range, we ensure that we can convert to
and from  RFC 3339 date strings.
See <a href="https://www.ietf.org/rfc/rfc3339.txt">https://www.ietf.org/rfc/rfc3339.txt</a>.</p>
</div>
<div class="paragraph">
<p>Examples</p>
</div>
<div class="paragraph">
<p>Example 1: Compute Timestamp from POSIX <code>time()</code>.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Timestamp timestamp;
timestamp.set_seconds(time(NULL));
timestamp.set_nanos(0);</pre>
</div>
</div>
<div class="paragraph">
<p>Example 2: Compute Timestamp from POSIX <code>gettimeofday()</code>.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>struct timeval tv;
gettimeofday(&amp;tv, NULL);</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Timestamp timestamp;
timestamp.set_seconds(tv.tv_sec);
timestamp.set_nanos(tv.tv_usec * 1000);</pre>
</div>
</div>
<div class="paragraph">
<p>Example 3: Compute Timestamp from Win32 <code>GetSystemTimeAsFileTime()</code>.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>FILETIME ft;
GetSystemTimeAsFileTime(&amp;ft);
UINT64 ticks = (((UINT64)ft.dwHighDateTime) &lt;&lt; 32) | ft.dwLowDateTime;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>// A Windows tick is 100 nanoseconds. Windows epoch 1601-01-01T00:00:00Z
// is 11644473600 seconds before Unix epoch 1970-01-01T00:00:00Z.
Timestamp timestamp;
timestamp.set_seconds((INT64) ((ticks / 10000000) - 11644473600LL));
timestamp.set_nanos((INT32) ((ticks % 10000000) * 100));</pre>
</div>
</div>
<div class="paragraph">
<p>Example 4: Compute Timestamp from Java <code>System.currentTimeMillis()</code>.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>long millis = System.currentTimeMillis();</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Timestamp timestamp = Timestamp.newBuilder().setSeconds(millis / 1000)
    .setNanos((int) ((millis % 1000) * 1000000)).build();</pre>
</div>
</div>
<div class="paragraph">
<p>Example 5: Compute Timestamp from current time in Python.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>timestamp = Timestamp()
timestamp.GetCurrentTime()</pre>
</div>
</div>
<div class="paragraph">
<p>JSON Mapping</p>
</div>
<div class="paragraph">
<p>In JSON format, the Timestamp type is encoded as a string in the
<a href="https://www.ietf.org/rfc/rfc3339.txt">RFC 3339</a> format. That is, the
format is "{year}-{month}-{day}T{hour}:{min}:{sec}[.{frac_sec}]Z"
where {year} is always expressed using four digits while {month}, {day},
{hour}, {min}, and {sec} are zero-padded to two digits each. The fractional
seconds, which can go up to 9 digits (i.e. up to 1 nanosecond resolution),
are optional. The "Z" suffix indicates the timezone ("UTC"); the timezone
is required. A proto3 JSON serializer should always use UTC (as indicated by
"Z") when printing the Timestamp type and a proto3 JSON parser should be
able to accept both UTC and other timezones (as indicated by an offset).</p>
</div>
<div class="paragraph">
<p>For example, "2017-01-15T01:30:15.01Z" encodes 15.01 seconds past
01:30 UTC on January 15, 2017.</p>
</div>
<div class="paragraph">
<p>In JavaScript, one can convert a Date object to this format using the
standard <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString">toISOString()</a>
method. In Python, a standard <code>datetime.datetime</code> object can be converted
to this format using <a href="https://docs.python.org/2/library/time.html#time.strftime"><code>strftime</code></a>
with the time format spec '%Y-%m-%dT%H:%M:%S.%fZ'. Likewise, in Java, one
can use the Joda Time&#8217;s <a href="http://www.joda.org/joda-time/apidocs/org/joda/time/format/ISODateTimeFormat.html#dateTime--"><code>ISODateTimeFormat.dateTime()</code></a>
to obtain a formatter capable of generating timestamps in this format.</p>
</div>
<div class="paragraph">
<p>Timestamp represents date + time format</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">seconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Represents seconds of UTC time since Unix epoch
1970-01-01T00:00:00Z. Must be from 0001-01-01T00:00:00Z to
9999-12-31T23:59:59Z inclusive.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">nanos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Non-negative fractions of a second at nanosecond resolution. Negative
second values with fractions must still have non-negative nanos values
that count forward in time. Must be from 0 to 999,999,999
inclusive.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="TradingAccount"><a class="anchor" href="#TradingAccount"></a>TradingAccount</h3>
<div class="paragraph">
<p>TradingAccount is trading account connected to the
depot</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">account_number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Account number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">depot_number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Depot number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the account owners</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tradable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If account is tradable then true or false otherwise</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="TradingAccountInformation"><a class="anchor" href="#TradingAccountInformation"></a>TradingAccountInformation</h3>
<div class="paragraph">
<p>TradingAccountInformation contains specific for this account information</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">account</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#TradingAccount">TradingAccount</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trading account</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">balance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Account balance</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">credit_limit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Credit limit information</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">buying_power</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Buying power</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">credit_limit_intraday</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Credit limit intraday information, <mark>pro</mark> only</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">buying_power_intraday</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Buyng power intraday, <mark>pro</mark> only</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Error">Error</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error information if occuirs</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="TradingAccountRequest"><a class="anchor" href="#TradingAccountRequest"></a>TradingAccountRequest</h3>
<div class="paragraph">
<p>Trading account request contains trading account related data</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">access_token</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access token</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">trading_account</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#TradingAccount">TradingAccount</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trading account</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="TradingAccounts"><a class="anchor" href="#TradingAccounts"></a>TradingAccounts</h3>
<div class="paragraph">
<p>TradingAccounts contains account information
from current session</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">accounts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of <a href="#TradingAccount">TradingAccount</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of trading accounts</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Error">Error</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error information if occuirs</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="TradingAccountTransactions"><a class="anchor" href="#TradingAccountTransactions"></a>TradingAccountTransactions</h3>
<div class="paragraph">
<p>TradingAccountTransactions contains account transactions</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">account</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#TradingAccount">TradingAccount</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trading account</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">transactions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of <a href="#TradingAccountTransactions-Transaction">Transaction</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of transactions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Error">Error</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error information if happened</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="TradingPhase"><a class="anchor" href="#TradingPhase"></a>TradingPhase</h3>
<div class="paragraph">
<p>Represents stock exchange trading phase.
Some values are refer to the Xetra stock exchange</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unknown trading phase</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PRETRADE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pretrade trading phase</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">POSTTRADE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Posttrade trading phase</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">START</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Start trading phase</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">END</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">End trading phase</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VOLA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vola trading phase</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OCALL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OCall trading phase</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ICALL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ICall trading phase</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CCALL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CCall trading phase</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRADE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trade trading phase</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRADE_INDICATIVE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trade indicative trading phase</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRADE_BEST_BID_ASK</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trade best bid / ask trading phase</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRADE_AUCTION_NO_INDICATIVE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trade auction, but not indicative trading phase</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="TradingPossibility"><a class="anchor" href="#TradingPossibility"></a>TradingPossibility</h3>
<div class="paragraph">
<p>Trading possibility represents allowed variants to trade on specific stock exchange.
Each trading possibility is a combination of the parameters. The list of the order possibilites
is all possible combinations:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>MARKET;NORMAL;ABSOLUTE;{KASSA;AUCTION}
LIMIT;NORMAL;ABSOLUTE;{KASSA;AUCTION}
MARKET;NORMAL;RELATIVE;{KASSA;AUCTION}
LIMIT;NORMAL;RELATIVE;{KASSA;AUCTION}
...</pre>
</div>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">order_model</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#OrderModel">OrderModel</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order model</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">order_supplement</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#OrderSupplement">OrderSupplement</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order supplement</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">trailing_notation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#TrailingNotation">TrailingNotation</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trailing notation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cash_quotations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of <a href="#CashQuotation">CashQuotation</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of allowed cash_quatations</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="TradingState"><a class="anchor" href="#TradingState"></a>TradingState</h3>
<div class="paragraph">
<p>Trading state represents information about tradability.
Security can be tradable or not (ex. index)</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NO_TRADING_STATE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trading state is not defined</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRADABLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tradable state</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NOT_TRADABLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not tradable state</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="TrailingNotation"><a class="anchor" href="#TrailingNotation"></a>TrailingNotation</h3>
<div class="paragraph">
<p>Trailing notation represent notation type by trailing orders</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NO_TRAILING_NOTATION</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trailing notation is not defined</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ABSOLUTE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Absolute order notation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RELATIVE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Relative order notation</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="TradingAccountTransactions-Transaction"><a class="anchor" href="#TradingAccountTransactions-Transaction"></a>Transaction</h3>
<div class="paragraph">
<p>Transaction contains onformation about one transaction</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">transaction_date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Date">Date</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transaction date</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">amount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amount value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">opponent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transaction opponent</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">information</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Information about transaction</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value_date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#Date">Date</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Value date</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="UnitNote"><a class="anchor" href="#UnitNote"></a>UnitNote</h3>
<div class="paragraph">
<p>Unit node type</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NO_UNIT_NOTE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unit note is not defined</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PIECE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Piece unit note</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PERCENT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Percent unit node. Pieces = Percent/100</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PERMIL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Permile unit node. Pieces = Percent/1000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">POINTS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Points unit node</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MISK</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Misk unit node</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="Validation"><a class="anchor" href="#Validation"></a>Validation</h3>
<div class="paragraph">
<p>Validation type for the order actions</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WITHOUT_VALIDATION</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order action will routed directly to the market.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VALIDATE_ONLY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order will checked by the backend system, but not will be routed to market</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VALIDATE_WITH_TOTAL_COSTS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order will checked by the backend system, but not will be routed to market.
Additionally will be requested estimated order action total costs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VALIDATE_WITH_DETAIL_COSTS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Order will checked by the backend system, but not will be routed to market.
Additionally will be requested estimated order action detail costs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TOTAL_COSTS_ONLY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For the order will be requested estimated order action total costs.
No backend system validation is processed.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="questions-and-answers"><a class="anchor" href="#questions-and-answers"></a>Questions and Answers</h2>
<div class="sectionbody">
<div class="qlist qanda">
<ol>
<li>
<p><em>Why is used GRPC engine?</em></p>
<p>The GRPC is fastest engine for push and pull messaging with building security support. It allowes to reduce time for requests execution (ex. add order) and cares about low level communication.</p>
</li>
<li>
<p><em>Is will be supported another languages?</em></p>
<p>We delivery original protobuf protocol description. It can be used for the code generation for other programming languages like C++, Python, Go, Ruby, Node.js, Android Java, Objective-C, PHP, Dart and Web.
For more information please refer to the <a href="https://grpc.io/">grpc.io</a></p>
</li>
<li>
<p><em>Is it planned to extend TAPI?</em></p>
<p>If we see an interest from the customers to use additional functionality, then TAPI can be extended.</p>
</li>
<li>
<p><em>Where I can ask questions / get additional information about TAPI?</em></p>
<p>Please use next <a href="https://wissen.consorsbank.de/t5/Trading-API-Family-Friends/gp-p/BNPP_GHM">link</a> or refer to the support team.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2020-02-12 12:04:56 MEZ
</div>
</div>
</body>
</html>